"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5750],{9020:function(e,t,n){n.d(t,{W:function(){return o},t:function(){return i}}),n(5355);var r=n(3472),o=(0,r.$)("348f4591ea0e3a316e8f14618a5c97a8c9a991bd"),i=(0,r.$)("7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33")},3194:function(e,t,n){n.d(t,{Tf:function(){return i},iz:function(){return o}}),n(5355);var r=n(3472),o=(0,r.$)("ee02d34ff8acfbec65c3cb8d7dd6651b007a0386");(0,r.$)("9e29895df62c42ba7a36f6845e4eae27911c1b74");var i=(0,r.$)("92a39d477e47b317e35e397cb3d435c18e928bc4")},8681:function(e,t,n){n.d(t,{a5:function(){return o},hD:function(){return i}}),n(5355);var r=n(3472),o=(0,r.$)("7253e3e8d3e871017ea1f263ed398c6f9b834458");(0,r.$)("4db26a0ba77ad2ec2566def30570c053733cebd3");var i=(0,r.$)("1f308bd869fb5bcb145fc1b44954debb21770560")},3512:function(e,t,n){n.d(t,{_:function(){return h}});var r=n(3827),o=n(4090),i=n(1612),s=n(531),a=n(5179),u=function(e){let{questionNumber:t}=e,{questionRefs:n,userAnswers:u}=(0,o.useContext)(i.J),{handleAnswerChange:l,handleQuestionSelected:c}=(0,s.p)(),d=u.find(e=>e.questionNumber===t);return(0,r.jsx)(a.H,{className:"inline-block",onFocus:()=>c(t),value:d&&"COMPLETION"===d.type?d.content:"",placeholder:"Enter a word",onChange:e=>{l({questionNumber:t,type:"COMPLETION",content:e.target.value})},ref:n[t-1]})},l=n(8586),c=n(112),d=n(1657);function f(e){let{questionNumber:t}=e,{userAnswers:n,selectedPart:s,questionRefs:a}=(0,o.useContext)(i.J),{handleDragOver:u,handleDragLeave:f,handleDrop:b,handleDragStart:m}=(0,c.i)(),{questionId:p}=(0,o.useContext)(l.L),{setCurrentRef:h,currentRef:g}=(0,o.useContext)(i.J),x=null==s?void 0:s.questions.find(e=>e.questionNumber===t);if(!x)return null;let N=n.find(e=>e.questionNumber===t);return(0,r.jsx)(r.Fragment,{children:N&&"MATCHING"===N.type&&N.content?(0,r.jsx)("div",{onDrop:e=>b({event:e,quesNum:x.questionNumber,type:"question"}),onDragOver:e=>u({event:e,type:"question",questionId:x.id}),onDragLeave:f,ref:a[x.questionNumber-1],className:(0,d.cn)("border-4 bg-background border-dotted  w-full p-4",p===x.id?"bg-secondary":" "),children:N.content}):(0,r.jsx)("div",{onDrop:e=>b({event:e,quesNum:x.questionNumber,type:"question"}),onDragOver:e=>u({event:e,type:"question",questionId:x.id}),onDragLeave:f,ref:a[x.questionNumber-1],className:(0,d.cn)("border-4 border-dotted  w-full p-4",p===x.id?"bg-secondary":" ",g===x.questionNumber-1?" ":"border-secondary")})})}var b=n(8681),m=n(1568),p=function(e){let{questionNumber:t,assessmentId:n}=e,[i,s]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async()=>{try{let e=await (0,b.a5)({assessmentId:n,questionNumber:t});s(e)}catch(e){console.error("Error fetching question:",e)}})()},[t,n]),i)?(0,r.jsx)(a.H,{value:i.respond||"",className:"inline-block",readOnly:!0}):(0,r.jsx)(m.O,{className:"inline-block",children:(0,r.jsx)(a.H,{className:" inline-block border-none bg-secondary-foreground",readOnly:!0})})};let h=e=>{let{slateProps:t}=e,{attributes:n,children:o,element:i}=t;switch(i.type){case"blank":if("result"===e.mode&&"Completion"===e.type)return(0,r.jsx)(p,{questionNumber:i.questionNumber,assessmentId:e.assessmentId});if("edit"===e.mode)return(0,r.jsx)("span",{...n,className:"bg-red-500",children:o});if("readonly"===e.mode){if("Completion"===e.type)return(0,r.jsx)(u,{questionNumber:i.questionNumber});if("Matching"===e.type)return(0,r.jsx)(f,{questionNumber:i.questionNumber})}case"table":return(0,r.jsx)("table",{className:"w-full",children:(0,r.jsx)("tbody",{...n,children:o})});case"table-row":return(0,r.jsx)("tr",{className:"m-0 border-t p-0",...n,children:o});case"table-cell":return(0,r.jsx)("td",{className:"border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",...n,children:o});case"blockquote":return(0,r.jsx)("blockquote",{className:"mt-6 border-l-2 pl-6 italic",...n,children:o});case"bulleted-list":return(0,r.jsx)("ul",{className:"my-6 ml-6 list-disc [&>li]:mt-2",...n,children:o});case"heading-one":return(0,r.jsx)("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",children:o});case"heading-two":return(0,r.jsx)("h2",{className:"mt-10 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0",...n,children:o});case"list-item":return(0,r.jsx)("li",{...n,children:o});case"numbered-list":return(0,r.jsx)("ol",{...n,children:o});default:return(0,r.jsx)("span",{...n,children:o})}}},6839:function(e,t,n){n.d(t,{A:function(){return o}});var r=n(3827);n(4090);let o=e=>{let{attributes:t,leaf:n,children:o}=e;return n.bold&&(o=(0,r.jsx)("strong",{children:o})),n.italic&&(o=(0,r.jsx)("em",{children:o})),n.underline&&(o=(0,r.jsx)("u",{children:o})),(0,r.jsx)("span",{...t,children:o})}},5754:function(e,t,n){n.d(t,{d:function(){return u},z:function(){return l}});var r=n(3827),o=n(4090),i=n(9143),s=n(7742),a=n(1657);let u=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",correct:"bg-green-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",xs:"h-7 rounded-md px-1",lg:"h-11 rounded-md px-8",xl:" h-14 px-6",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:l=!1,...c}=e,d=l?i.g7:"button";return(0,r.jsx)(d,{className:(0,a.cn)(u({variant:o,size:s,className:n})),ref:t,...c})});l.displayName="Button"},5179:function(e,t,n){n.d(t,{H:function(){return a},I:function(){return s}});var r=n(3827),o=n(4090),i=n(1657);let s=o.forwardRef((e,t)=>{let{className:n,type:o,...s}=e;return(0,r.jsx)("input",{type:o,className:(0,i.cn)("flex h-10 w-full rounded-md border bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground  disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});s.displayName="Input";let a=o.forwardRef((e,t)=>{let{className:n,type:o,...s}=e;return(0,r.jsx)("input",{type:o,className:(0,i.cn)("flex h-8 w-60 border-foreground rounded-sm border bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground  disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});a.displayName="InputGap"},9842:function(e,t,n){n.r(t),n.d(t,{Label:function(){return l}});var r=n(3827),o=n(4090),i=n(4602),s=n(7742),a=n(1657);let u=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.f,{ref:t,className:(0,a.cn)(u(),n),...o})});l.displayName=i.f.displayName},5608:function(e,t,n){n.r(t),n.d(t,{RadioGroup:function(){return u},RadioGroupItem:function(){return l}});var r=n(3827),o=n(4090),i=n(8928),s=n(7501),a=n(1657);let u=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.fC,{className:(0,a.cn)("grid gap-2",n),...o,ref:t})});u.displayName=i.fC.displayName;let l=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.ck,{ref:t,className:(0,a.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...o,children:(0,r.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(s.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});l.displayName=i.ck.displayName},9030:function(e,t,n){n.d(t,{B:function(){return u},x:function(){return a}});var r=n(3827),o=n(4090),i=n(1657),s=n(9346);let a=o.forwardRef((e,t)=>{let{className:n,children:o,...a}=e;return(0,r.jsxs)(s.fC,{ref:t,className:(0,i.cn)("relative overflow-hidden",n),...a,children:[(0,r.jsx)(s.l_,{className:"h-full w-full rounded-[inherit]",children:o}),(0,r.jsx)(u,{}),(0,r.jsx)(s.Ns,{})]})});a.displayName=s.fC.displayName;let u=o.forwardRef((e,t)=>{let{className:n,orientation:o="vertical",...a}=e;return(0,r.jsx)(s.gb,{ref:t,orientation:o,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===o&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===o&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...a,children:(0,r.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-border"})})});u.displayName=s.gb.displayName},1568:function(e,t,n){n.d(t,{O:function(){return i}});var r=n(3827),o=n(1657);function i(e){let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...n})}},1593:function(e,t,n){n.d(t,{IK:function(){return r},VH:function(){return o}});let r={edit:"edit",exam:"exam"},o=["A","B","C","D"]},8586:function(e,t,n){n.d(t,{L:function(){return r}});let r=(0,n(4090).createContext)({questionGroupId:"",matchingChoiceId:"",matchingChoiceList:[],prevContent:"",choiceGroupOver:!1,questionId:null,type:null,setType:()=>{},setQuestionId:()=>{},setChoiceGroupOver:()=>{},setPrevContent:()=>{},setMatchingChoiceList:()=>{},setMatchingChoiceId:()=>{},setQuestionGroupId:()=>{}})},1612:function(e,t,n){n.d(t,{J:function(){return r}});let r=(0,n(4090).createContext)({activeTab:"",selectedAssessment:null,questionRefs:[],userAnswers:[],listHeading:[],timeRemaining:0,mode:null,isSubmit:!1,setIsSubmit:()=>{},setMode:()=>{},setTimeRemaining:()=>{},selectedPart:null,setSelectedPart:()=>{},setListHeading:()=>{},setUserAnswers:()=>{},currentRef:0,setCurrentRef:()=>{},setQuestionRefs:()=>{},setSelectedAssessment:()=>{},setActiveTab:()=>{}})},112:function(e,t,n){n.d(t,{i:function(){return s}});var r=n(4090),o=n(8586),i=n(1612);let s=()=>{let{matchingChoiceId:e,questionGroupId:t,setQuestionId:n,questionId:s,setChoiceGroupOver:a,setMatchingChoiceList:u,setMatchingChoiceId:l,setQuestionGroupId:c}=(0,r.useContext)(o.L),{selectedPart:d,setUserAnswers:f,userAnswers:b,setCurrentRef:m,questionRefs:p}=(0,r.useContext)(i.J);return{handleDragEnd:()=>{var r;a(!1);let o=null==d?void 0:d.questionGroups.find(e=>e.id===t);if(!o)return;let i=o.questions.find(e=>e.id===s);if(!i)return;n(null);let l=null===(r=o.matching)||void 0===r?void 0:r.matchingChoiceList.find(t=>t.id===e);if(!l)return;let c=b.find(e=>e.questionNumber===i.questionNumber);u(t=>{let n=t.map(t=>t.id===e?{...t,content:""}:t);return c&&"MATCHING"===c.type?n.map(e=>e.id===c.matchingChoiceId?{...e,content:c.content}:e):n}),f(e=>{let t=[...e],n=t.findIndex(e=>e.questionNumber===i.questionNumber&&"MATCHING"===e.type);return -1!==n?t[n]={...t[n],type:"MATCHING",content:l.content,matchingChoiceId:l.id}:t.push({questionNumber:i.questionNumber,type:"MATCHING",matchingChoiceId:l.id,content:l.content}),t})},handleDragStart:(e,t)=>{c(e),l(t)},handleDragOver:e=>{let{event:t,type:r,questionId:o}=e;t.preventDefault(),"groupChoice"===r&&a(!0),"question"===r&&n(o)},handleDragLeave:e=>{a(!1),n(null)},handleDrop:e=>{let{event:t,quesNum:n,type:r}=e;if(t.preventDefault(),"question"===r){m(n-1);let e=p[n-1].current;e&&e.scrollIntoView({behavior:"smooth"})}else"groupChoice"===r&&console.log("aaaaaaa")}}}},531:function(e,t,n){n.d(t,{p:function(){return c}});var r=n(4090),o=n(9020),i=n(3194),s=n(8681);n(5355);var a=(0,n(3472).$)("b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df"),u=n(1593),l=n(1612);let c=()=>{let{userAnswers:e,questionRefs:t,setCurrentRef:n,currentRef:c,setActiveTab:d,selectedAssessment:f,setUserAnswers:b,selectedPart:m,timeRemaining:p,setMode:h,setIsSubmit:g}=(0,r.useContext)(l.J);return{handleAnswerChange:function(e){let{questionNumber:t,type:n}=e;b(r=>{let o=[...r],i=o.findIndex(e=>e.questionNumber===t),s=(()=>{switch(n){case"MULTIPLE_CHOICE_ONE_ANSWER":return{questionNumber:t,type:n,choiceId:e.choiceId};case"MULTI_MORE":return{questionNumber:t,type:n,choiceIdList:e.choiceIdList};case"IDENTIFY_INFO":case"COMPLETION":return{questionNumber:t,type:n,content:e.content};default:throw Error("Unsupported answer type: ".concat(n))}})();return -1!==i?o[i]=s:o.push(s),o})},handleSubmit:async function t(){if(!f)return null;console.log("User Answers:",e),g(!0);let t=0,n=e.map(async e=>{let n;let r=await (0,s.a5)({assessmentId:f.id,questionNumber:e.questionNumber});switch(e.type){case"MULTIPLE_CHOICE_ONE_ANSWER":let a=await (0,o.t)(e.choiceId);n=u.VH[a.order],await (0,s.hD)({questionId:r.id,respond:n}),!0===a.isCorrect&&t++;break;case"MULTI_MORE":for(let n of e.choiceIdList)await (0,i.iz)(n)&&t++;break;case"IDENTIFY_INFO":case"COMPLETION":n=e.content,await (0,s.hD)({questionId:r.id,respond:n}),r.correctAnswer===n&&t++}});await Promise.all(n);let r=f.duration-p,l=.25*t;await a({score:l,timeSpent:r,totalCorrectAnswers:t,assessmentId:f.id}),h(null),g(!1),console.log("\uD83D\uDE80 ~ handleSubmit ~ score:",l)},handleNextQuestion:function(){if(!f||!m)return null;if(c+1<m.questionGroups[m.questionGroups.length-1].endQuestionNumber){n(c+1);let e=t[c+1].current;e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}else{let e=f.parts.find(e=>e.order===m.order+1);e?(n(e.questionGroups[0].startQuestionNumber-1),d(e.id)):d("delivering")}},handlePrevQuestion:function(){if(!f||!m)return null;if(c>=m.questionGroups[0].startQuestionNumber){n(c-1);let e=t[c-1].current;e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}else{let e=f.parts.find(e=>e.order===m.order-1);e&&d(e.id)}},handleQuestionSelected:function(e){n(e-1)},isHasNextQuestion:c<t.length-1,isHasPrevQuestion:c>0}}},1657:function(e,t,n){n.d(t,{KQ:function(){return b},_P:function(){return l},az:function(){return c},cn:function(){return u},mr:function(){return d},uJ:function(){return f}});var r=n(3167),o=n(9248),i=n(6288),s=n(1367),a=n(248);function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}let l=e=>{let{isInline:t}=e;return e.isInline=e=>["blank"].includes(e.type)||t(e),e},c=e=>{let{editor:t,startQuesNum:n}=e,r=0;for(let[e,i]of o.ML.nodes(t,{at:[]}))if(o.W_.isElement(e)&&"blank"===e.type){let{type:s,...a}=e,u={...a,type:s,questionNumber:n+r};r++,o.YR.setNodes(t,{...u},{at:i})}return r},d=e=>{let t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)},f=(e,t)=>{let n=t.toString(),r="".concat(n.length?"?":"").concat(n);return"".concat(e).concat(r)};function b(e){if(e instanceof a.z.ZodError){let t=e.issues.map(e=>e.message);return i.toast.error(t.join("\n"))}return e instanceof Error?i.toast.error(e.message):i.toast.error("Something went wrong, please try again later.")}}}]);