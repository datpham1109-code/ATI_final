exports.id=429,exports.ids=[429],exports.modules={12936:(e,t,s)=>{Promise.resolve().then(s.bind(s,12001)),Promise.resolve().then(s.bind(s,51502)),Promise.resolve().then(s.bind(s,4827)),Promise.resolve().then(s.bind(s,79202)),Promise.resolve().then(s.bind(s,34755))},80067:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},64200:(e,t,s)=>{"use strict";s.d(t,{W:()=>r,t:()=>n}),s(13664);var a=s(28371),r=(0,a.$)("348f4591ea0e3a316e8f14618a5c97a8c9a991bd"),n=(0,a.$)("7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33")},81959:(e,t,s)=>{"use strict";s.d(t,{Tf:()=>n,iz:()=>r}),s(13664);var a=s(28371),r=(0,a.$)("ee02d34ff8acfbec65c3cb8d7dd6651b007a0386");(0,a.$)("9e29895df62c42ba7a36f6845e4eae27911c1b74");var n=(0,a.$)("92a39d477e47b317e35e397cb3d435c18e928bc4")},2485:(e,t,s)=>{"use strict";s.d(t,{Be:()=>n,Cy:()=>r}),s(13664);var a=s(28371),r=(0,a.$)("456ee2a1690c538bcca175d6e4f9496ac91bd183"),n=(0,a.$)("5cdf9fc5100262f07752297272faee8055782770");(0,a.$)("d1041361be3f9a63f1cb8f0c97e40608dbe358d0"),(0,a.$)("827df6d0c9316cf40f1ae02724d60c56d3bb4c93")},38262:(e,t,s)=>{"use strict";s.d(t,{a5:()=>r,hD:()=>n}),s(13664);var a=s(28371),r=(0,a.$)("7253e3e8d3e871017ea1f263ed398c6f9b834458");(0,a.$)("4db26a0ba77ad2ec2566def30570c053733cebd3");var n=(0,a.$)("1f308bd869fb5bcb145fc1b44954debb21770560")},45334:(e,t,s)=>{"use strict";s.d(t,{_:()=>x});var a=s(95344),r=s(3729),n=s(22202),i=s(62626),o=s(92549);let l=function({questionNumber:e}){let{questionRefs:t,userAnswers:s}=(0,r.useContext)(n.J),{handleAnswerChange:l,handleQuestionSelected:d}=(0,i.p)(),c=s.find(t=>t.questionNumber===e);return a.jsx(o.H,{className:"inline-block",onFocus:()=>d(e),value:c&&"COMPLETION"===c.type?c.content:"",placeholder:"Enter a word",onChange:t=>{l({questionNumber:e,type:"COMPLETION",content:t.target.value})},ref:t[e-1]})};var d=s(26777),c=s(68105),u=s(91626);function m({questionNumber:e}){let{userAnswers:t,selectedPart:s,questionRefs:i}=(0,r.useContext)(n.J),{handleDragOver:o,handleDragLeave:l,handleDrop:m,handleDragStart:h}=(0,c.i)(),{questionId:p}=(0,r.useContext)(d.L),{setCurrentRef:f,currentRef:x}=(0,r.useContext)(n.J),b=s?.questions.find(t=>t.questionNumber===e);if(!b)return null;let j=t.find(t=>t.questionNumber===e);return a.jsx(a.Fragment,{children:j&&"MATCHING"===j.type&&j.content?a.jsx("div",{onDrop:e=>m({event:e,quesNum:b.questionNumber,type:"question"}),onDragOver:e=>o({event:e,type:"question",questionId:b.id}),onDragLeave:l,ref:i[b.questionNumber-1],className:(0,u.cn)("border-4 bg-background border-dotted  w-full p-4",p===b.id?"bg-secondary":" "),children:j.content}):a.jsx("div",{onDrop:e=>m({event:e,quesNum:b.questionNumber,type:"question"}),onDragOver:e=>o({event:e,type:"question",questionId:b.id}),onDragLeave:l,ref:i[b.questionNumber-1],className:(0,u.cn)("border-4 border-dotted  w-full p-4",p===b.id?"bg-secondary":" ",x===b.questionNumber-1?" ":"border-secondary")})})}var h=s(38262),p=s(67951);let f=function({questionNumber:e,assessmentId:t}){let[s,n]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{try{let s=await (0,h.a5)({assessmentId:t,questionNumber:e});n(s)}catch(e){console.error("Error fetching question:",e)}})()},[e,t]),s)?a.jsx(o.H,{value:s.respond||"",className:"inline-block",readOnly:!0}):a.jsx(p.O,{className:"inline-block",children:a.jsx(o.H,{className:" inline-block border-none bg-secondary-foreground",readOnly:!0})})},x=e=>{let{slateProps:t}=e,{attributes:s,children:r,element:n}=t;switch(n.type){case"blank":if("result"===e.mode&&"Completion"===e.type)return a.jsx(f,{questionNumber:n.questionNumber,assessmentId:e.assessmentId});if("edit"===e.mode)return a.jsx("span",{...s,className:"bg-red-500",children:r});if("readonly"===e.mode){if("Completion"===e.type)return a.jsx(l,{questionNumber:n.questionNumber});if("Matching"===e.type)return a.jsx(m,{questionNumber:n.questionNumber})}case"table":return a.jsx("table",{className:"w-full",children:a.jsx("tbody",{...s,children:r})});case"table-row":return a.jsx("tr",{className:"m-0 border-t p-0",...s,children:r});case"table-cell":return a.jsx("td",{className:"border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",...s,children:r});case"blockquote":return a.jsx("blockquote",{className:"mt-6 border-l-2 pl-6 italic",...s,children:r});case"bulleted-list":return a.jsx("ul",{className:"my-6 ml-6 list-disc [&>li]:mt-2",...s,children:r});case"heading-one":return a.jsx("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl",children:r});case"heading-two":return a.jsx("h2",{className:"mt-10 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0",...s,children:r});case"list-item":return a.jsx("li",{...s,children:r});case"numbered-list":return a.jsx("ol",{...s,children:r});default:return a.jsx("span",{...s,children:r})}}},83375:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(95344);s(3729);let r=({attributes:e,leaf:t,children:s})=>(t.bold&&(s=a.jsx("strong",{children:s})),t.italic&&(s=a.jsx("em",{children:s})),t.underline&&(s=a.jsx("u",{children:s})),a.jsx("span",{...e,children:s}))},12001:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ThemeProvider:()=>n});var a=s(95344);s(3729);var r=s(6256);function n({children:e,...t}){return a.jsx(r.f,{...t,children:e})}},16212:(e,t,s)=>{"use strict";s.d(t,{d:()=>l,z:()=>d});var a=s(95344),r=s(3729),n=s(32751),i=s(88720),o=s(91626);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",correct:"bg-green-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",xs:"h-7 rounded-md px-1",lg:"h-11 rounded-md px-8",xl:" h-14 px-6",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},d)=>{let c=r?n.g7:"button";return a.jsx(c,{className:(0,o.cn)(l({variant:t,size:s,className:e})),ref:d,...i})});d.displayName="Button"},16802:(e,t,s)=>{"use strict";s.d(t,{$N:()=>j,GG:()=>f,Vq:()=>c,cZ:()=>p,fK:()=>b,hg:()=>u,kn:()=>x});var a=s(95344),r=s(3729),n=s(88794),i=s(14513),o=s(91626),l=s(16826),d=s(4664);let c=n.fC,u=n.xz,m=n.h_,h=r.forwardRef(({className:e,...t},s)=>a.jsx(n.aV,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));h.displayName=n.aV.displayName;let p=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(m,{children:[a.jsx(h,{}),(0,a.jsxs)(n.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(d.Pxu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=n.VY.displayName;let f=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(n.x8,{className:(0,o.cn)("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",e),...s,children:[a.jsx(i.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}));f.displayName=n.x8.displayName;let x=r.forwardRef(({className:e,children:t,...s},r)=>{let{maxHeight:i,...d}=s;return(0,a.jsxs)(m,{children:[a.jsx(h,{}),a.jsx(n.VY,{ref:r,className:(0,o.cn)("fixed overflow-y-hidden left-[50%] translate-y-[-50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%]  gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...d,children:a.jsx(l.x,{style:{maxHeight:i||600},className:"p-4",children:t})})]})});x.displayName="DialogContentWithScrollArea";let b=({className:e,...t})=>a.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});b.displayName="DialogHeader";let j=r.forwardRef(({className:e,...t},s)=>a.jsx(n.Dx,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));j.displayName=n.Dx.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(n.dk,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName=n.dk.displayName},93061:(e,t,s)=>{"use strict";s.d(t,{NI:()=>x,Wi:()=>u,l0:()=>d,lX:()=>f,pf:()=>b,xJ:()=>p,zG:()=>j});var a=s(95344),r=s(3729),n=s(32751),i=s(60708),o=s(91626),l=s(1586);let d=i.RV,c=r.createContext({}),u=({...e})=>a.jsx(c.Provider,{value:{name:e.name},children:a.jsx(i.Qr,{...e})}),m=()=>{let e=r.useContext(c),t=r.useContext(h),{getFieldState:s,formState:a}=(0,i.Gc)(),n=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},h=r.createContext({}),p=r.forwardRef(({className:e,...t},s)=>{let n=r.useId();return a.jsx(h.Provider,{value:{id:n},children:a.jsx("div",{ref:s,className:(0,o.cn)("space-y-2",e),...t})})});p.displayName="FormItem";let f=r.forwardRef(({className:e,...t},s)=>{let{error:r,formItemId:n}=m();return a.jsx(l.Label,{ref:s,className:(0,o.cn)(r&&"text-destructive",e),htmlFor:n,...t})});f.displayName="FormLabel";let x=r.forwardRef(({...e},t)=>{let{error:s,formItemId:r,formDescriptionId:i,formMessageId:o}=m();return a.jsx(n.g7,{ref:t,id:r,"aria-describedby":s?`${i} ${o}`:`${i}`,"aria-invalid":!!s,...e})});x.displayName="FormControl";let b=r.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:r}=m();return a.jsx("p",{ref:s,id:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})});b.displayName="FormDescription";let j=r.forwardRef(({className:e,children:t,...s},r)=>{let{error:n,formMessageId:i}=m(),l=n?String(n?.message):t;return l?a.jsx("p",{ref:r,id:i,className:(0,o.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});j.displayName="FormMessage"},92549:(e,t,s)=>{"use strict";s.d(t,{H:()=>o,I:()=>i});var a=s(95344),r=s(3729),n=s(91626);let i=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground  disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));i.displayName="Input";let o=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-8 w-60 border-foreground rounded-sm border bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground  disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));o.displayName="InputGap"},1586:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Label:()=>d});var a=s(95344),r=s(3729),n=s(14217),i=s(88720),o=s(91626);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},s)=>a.jsx(n.f,{ref:s,className:(0,o.cn)(l(),e),...t}));d.displayName=n.f.displayName},34672:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RadioGroup:()=>l,RadioGroupItem:()=>d});var a=s(95344),r=s(3729),n=s(9913),i=s(82958),o=s(91626);let l=r.forwardRef(({className:e,...t},s)=>a.jsx(n.fC,{className:(0,o.cn)("grid gap-2",e),...t,ref:s}));l.displayName=n.fC.displayName;let d=r.forwardRef(({className:e,...t},s)=>a.jsx(n.ck,{ref:s,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(n.z$,{className:"flex items-center justify-center",children:a.jsx(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=n.ck.displayName},16826:(e,t,s)=>{"use strict";s.d(t,{B:()=>l,x:()=>o});var a=s(95344),r=s(3729),n=s(91626),i=s(49027);let o=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.fC,{ref:r,className:(0,n.cn)("relative overflow-hidden",e),...s,children:[a.jsx(i.l_,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(l,{}),a.jsx(i.Ns,{})]}));o.displayName=i.fC.displayName;let l=r.forwardRef(({className:e,orientation:t="vertical",...s},r)=>a.jsx(i.gb,{ref:r,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:a.jsx(i.q4,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=i.gb.displayName},17470:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>f,Ph:()=>c,Ql:()=>x,i4:()=>m,ki:()=>u});var a=s(95344),r=s(3729),n=s(69669),i=s(25390),o=s(12704),l=s(62312),d=s(91626);let c=n.fC;n.ZA;let u=n.B4,m=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(n.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(n.JO,{asChild:!0,children:a.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.xz.displayName;let h=r.forwardRef(({className:e,...t},s)=>a.jsx(n.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(o.Z,{className:"h-4 w-4"})}));h.displayName=n.u_.displayName;let p=r.forwardRef(({className:e,...t},s)=>a.jsx(n.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let f=r.forwardRef(({className:e,children:t,position:s="popper",...r},i)=>a.jsx(n.h_,{children:(0,a.jsxs)(n.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(h,{}),a.jsx(n.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(p,{})]})}));f.displayName=n.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(n.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let x=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(n.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),a.jsx(n.eT,{children:t})]}));x.displayName=n.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(n.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},67951:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var a=s(95344),r=s(91626);function n({className:e,...t}){return a.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...t})}},87465:(e,t,s)=>{"use strict";s.d(t,{IK:()=>a,VH:()=>r});let a={edit:"edit",exam:"exam"},r=["A","B","C","D"]},26777:(e,t,s)=>{"use strict";s.d(t,{L:()=>a});let a=(0,s(3729).createContext)({questionGroupId:"",matchingChoiceId:"",matchingChoiceList:[],prevContent:"",choiceGroupOver:!1,questionId:null,type:null,setType:()=>{},setQuestionId:()=>{},setChoiceGroupOver:()=>{},setPrevContent:()=>{},setMatchingChoiceList:()=>{},setMatchingChoiceId:()=>{},setQuestionGroupId:()=>{}})},43409:(e,t,s)=>{"use strict";s.d(t,{W:()=>a});let a=(0,s(3729).createContext)({isOpen:!1,textNoteCompletion:"",setTextNoteCompletion:()=>{},setIsOpen:()=>{},data:void 0,setData:()=>{},type:null,setType:()=>{}})},22202:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});let a=(0,s(3729).createContext)({activeTab:"",selectedAssessment:null,questionRefs:[],userAnswers:[],listHeading:[],timeRemaining:0,mode:null,isSubmit:!1,setIsSubmit:()=>{},setMode:()=>{},setTimeRemaining:()=>{},selectedPart:null,setSelectedPart:()=>{},setListHeading:()=>{},setUserAnswers:()=>{},currentRef:0,setCurrentRef:()=>{},setQuestionRefs:()=>{},setSelectedAssessment:()=>{},setActiveTab:()=>{}})},51502:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalState:()=>l});var a=s(95344),r=s(3729),n=s(26777),i=s(43409),o=s(22202);let l=({children:e})=>{let[t,s]=(0,r.useState)(""),[l,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[m,h]=(0,r.useState)([]),[p,f]=(0,r.useState)(0),[x,b]=(0,r.useState)(0),[j,y]=(0,r.useState)([]),[g,N]=(0,r.useState)(""),[w,I]=(0,r.useState)(!1),[v,C]=(0,r.useState)(null),[q,E]=(0,r.useState)(void 0),[P,A]=(0,r.useState)([]),[T,S]=(0,r.useState)(""),[G,M]=(0,r.useState)(""),[L,O]=(0,r.useState)(""),[_,z]=(0,r.useState)(null),[k,R]=(0,r.useState)([]),[Q,$]=(0,r.useState)(!1),[V,D]=(0,r.useState)(null),[U,H]=(0,r.useState)(!1),[F,Z]=(0,r.useState)(null);return(0,r.useEffect)(()=>{c&&!l&&_&&(b(3600),h(()=>Array.from({length:c.totalQuestions},()=>(0,r.createRef)())),s(c.parts[0].id),d(c.parts[0]))},[c,l,_]),(0,r.useEffect)(()=>{let e=setInterval(()=>{b(e=>e-1)},1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{if(!c||!t||!_)return;let e=c.parts.findIndex(e=>e.id===t);if(-1!==e){d(c.parts[e]);let t=c.parts[e].questionGroups[0];t&&f(t.startQuestionNumber-1)}},[c,t,_]),a.jsx(o.J.Provider,{value:{activeTab:t,selectedAssessment:c,questionRefs:m,userAnswers:j,currentRef:p,listHeading:P,selectedPart:l,timeRemaining:x,mode:_,isSubmit:U,setIsSubmit:H,setMode:z,setTimeRemaining:b,setSelectedPart:d,setListHeading:A,setUserAnswers:y,setCurrentRef:f,setQuestionRefs:h,setSelectedAssessment:u,setActiveTab:s},children:a.jsx(i.W.Provider,{value:{isOpen:w,textNoteCompletion:g,setTextNoteCompletion:N,setData:E,setIsOpen:I,setType:C,type:v,data:q},children:a.jsx(n.L.Provider,{value:{questionGroupId:T,matchingChoiceId:L,matchingChoiceList:k,prevContent:G,choiceGroupOver:Q,questionId:V,type:F,setType:Z,setQuestionId:D,setChoiceGroupOver:$,setPrevContent:M,setMatchingChoiceList:R,setMatchingChoiceId:O,setQuestionGroupId:S},children:e})})})}},4827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ModalProvider:()=>eB});var a=s(95344),r=s(3729),n=s(8428),i=s(22202),o=s(36287),l=s(87465),d=s(91626),c=s(16212),u=s(16802);let m=function(){let[e,t]=(0,r.useTransition)(),{setMode:s}=(0,r.useContext)(i.J),m=(0,n.useRouter)(),{isOpen:h,data:p,type:f,onClose:x}=(0,o.L)(),b=h&&"openAssessment"===f,j=p?.assessment;return j&&b?a.jsx(u.Vq,{open:b,onOpenChange:x,children:(0,a.jsxs)(u.cZ,{className:"h-screen lg:max-w-3xl md:max-w-xl overflow-auto",children:[a.jsx(u.fK,{children:a.jsx(u.$N,{className:"item-center flex justify-center text-3xl",children:"Choose a mode"})}),a.jsx("section",{className:"",children:a.jsx("div",{className:"container px-5 mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-wrap text-center items-center justify-center",children:[(0,a.jsxs)("div",{className:"sm:w-1/2 px-4 ",children:[a.jsx("h2",{className:"title-font text-2xl font-medium ",children:"Simulation Test Mode"}),a.jsx(c.z,{disabled:e,onClick:()=>{t(()=>{let e=new URLSearchParams;e.set("mode",l.IK.exam);let t=`/assessments/${j.id}`;m.push((0,d.uJ)(t,e)),x()})},children:"Start Now"})]}),(0,a.jsxs)("div",{className:"sm:w-1/2 px-4",children:[a.jsx("h2",{className:"title-font text-2xl font-medium ",children:"Edit Mode"}),a.jsx(c.z,{disabled:e,onClick:()=>{t(()=>{let e=new URLSearchParams;e.set("mode",l.IK.edit);let t=`/assessments/${j.id}`;m.push((0,d.uJ)(t,e)),x()})},children:"Start Now"})]})]})})})]})}):null};s(13664);var h=s(28371),p=(0,h.$)("6dd6002a719b6773d36a9abebdc44f2f48317665");(0,h.$)("d73fb79915618bc4d259cb744cc710ab48f2b6e5");var f=(0,h.$)("561e1f84b16d26cae646807326c2b228b7ee1897"),x=s(85453),b=s(60708),j=s(34755),y=s(38163),g=s(29709);let N=g.z.object({content:g.z.string().min(1,{message:"Content Choice is required"}),isCorrect:g.z.boolean(),explanation:g.z.string().optional()}),w=g.z.object({title:g.z.string().min(1,{message:"Title Multiple Choice is required"}),choiceId:g.z.string()}),I=g.z.object({title:g.z.string().min(1,{message:"Title Multiple Choice is required"}),choiceIdList:g.z.array(g.z.string())}),v=g.z.object({title:g.z.string().min(1),choiceCorrect:g.z.enum([y.IdentifyChoice.TRUE,y.IdentifyChoice.FALSE,y.IdentifyChoice.NOT_GIVEN])});g.z.object({title:g.z.string().min(1,{message:"Title Multiple Choice is required"}),headingItems:g.z.array(g.z.string().min(1))});let C=g.z.object({titleForQuestion:g.z.string().optional(),matchingChoiceList:g.z.array(g.z.string().min(1))}),q=g.z.object({questions:g.z.array(g.z.object({correctAnswer:g.z.string(),explain:g.z.string().optional()}))});var E=s(93061),P=s(92549);function A(){let[e,t]=(0,r.useTransition)(),{onClose:s,isOpen:n,type:i,data:l}=(0,o.L)(),m=n&&"editCompletionAnswer"===i,h=l?.questionGroup,f=h?.completion,y=(0,b.cI)({resolver:(0,x.F)(q),defaultValues:{questions:[{correctAnswer:"",explain:""}]}});return((0,r.useEffect)(()=>{f&&y.setValue("questions",f.questions.map(e=>({correctAnswer:e.correctAnswer,explain:e.explain||""})))},[y,f]),h&&f&&m)?a.jsx(u.Vq,{onOpenChange:s,open:m,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...y,children:(0,a.jsxs)("form",{onSubmit:y.handleSubmit(e=>{t(async()=>{try{await p({formData:e,id:f.id}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[f.questions.map((t,s)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Question ",t.questionNumber]}),a.jsx(E.Wi,{control:y.control,name:`questions.${s}.correctAnswer`,render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Correct Answer"}),a.jsx(E.NI,{children:a.jsx(P.I,{value:t.value||"",onChange:t.onChange,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})},`correctAnswer_${s}`),a.jsx(E.Wi,{control:y.control,name:`questions.${s}.explain`,render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Explain (Optional)"}),a.jsx(E.NI,{children:a.jsx(P.I,{value:t.value||"",onChange:t.onChange,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})},`explain_${s}`)]},t.id)),a.jsx(E.zG,{})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})})})}):null}var T=s(43386),S=s(42542),G=s(84722),M=s(45334),L=s(83375);let O=e=>{T.YR.unwrapNodes(e,{match:e=>!T.ML.isEditor(e)&&T.W_.isElement(e)&&"blank"===e.type})},_=e=>{R(e)&&O(e);let{selection:t}=e,s=t&&T.e6.isCollapsed(t),a={type:"blank",children:s?[{text:"Edit me!"}]:[]};s?T.YR.insertNodes(e,a):(T.YR.wrapNodes(e,a,{split:!0}),T.YR.collapse(e,{edge:"end"}))},z=({icon:e})=>{let t=(0,G.ui)(),s=R(t);return a.jsx(c.z,{variant:s?"default":"outline",onMouseDown:e=>{e.preventDefault(),R(t)?O(t):k(t)},children:e})},k=e=>{e.selection&&_(e)},R=e=>{let[t]=T.ML.nodes(e,{match:e=>!T.ML.isEditor(e)&&T.W_.isElement(e)&&"blank"===e.type});return!!t},Q=function({format:e,icon:t}){let s=(0,G.ui)(),r=["numbered-list","bulleted-list"],n=["left","center","right","justify"],i=()=>{let t;let a=o(n.includes(e)?"align":"type"),i=r.includes(e);T.YR.unwrapNodes(s,{match:t=>!T.ML.isEditor(t)&&T.W_.isElement(t)&&r.includes(t.type)&&!n.includes(e),split:!0}),t=n.includes(e)?{align:a?void 0:e}:{type:a?"paragraph":i?"list-item":e},T.YR.setNodes(s,t),!a&&i&&T.YR.wrapNodes(s,{type:e,children:[]})},o=(t="type")=>{let{selection:a}=s;if(!a)return!1;let[r]=Array.from(T.ML.nodes(s,{at:T.ML.unhangRange(s,a),match:s=>!T.ML.isEditor(s)&&T.W_.isElement(s)&&s[t]===e}));return!!r},l=o(n.includes(e)?"align":"type");return a.jsx(c.z,{variant:l?"default":"outline",onMouseDown:e=>{e.preventDefault(),i()},children:t})},$=({format:e,icon:t})=>{let s=(0,G.ui)(),r=T.ML.marks(s),n=!!r&&!0===r[e],i=()=>{n?T.ML.removeMark(s,e):T.ML.addMark(s,e,!0)};return a.jsx(c.z,{className:"",variant:n?"default":"outline",size:"sm",onMouseDown:e=>{e.preventDefault(),i()},children:t})};var V=s(20862),D=s(8561),U=s(39669),H=s(34826),F=s(14226),Z=s(42842),J=s(58968),W=s(20439),X=s(15600),B=s(45613),K=s(41272),Y=s(77094),ee=s(22169);let et=function(){return(0,a.jsxs)("div",{className:"flex flex-wrap",children:[a.jsx($,{format:"bold",icon:a.jsx(V.Z,{})}),a.jsx($,{format:"italic",icon:a.jsx(D.Z,{})}),a.jsx($,{format:"underline",icon:a.jsx(U.Z,{})}),a.jsx(z,{icon:a.jsx(H.Z,{})}),a.jsx(Q,{format:"heading-one",icon:a.jsx(F.Z,{})}),a.jsx(Q,{format:"heading-two",icon:a.jsx(Z.Z,{})}),a.jsx(Q,{format:"blockquote",icon:a.jsx(J.Z,{})}),a.jsx(Q,{format:"bulleted-list",icon:a.jsx(W.Z,{})}),a.jsx(Q,{format:"numbered-list",icon:a.jsx(X.Z,{})}),a.jsx(Q,{format:"left",icon:a.jsx(B.Z,{})}),a.jsx(Q,{format:"center",icon:a.jsx(K.Z,{})}),a.jsx(Q,{format:"right",icon:a.jsx(Y.Z,{})}),a.jsx(Q,{format:"justify",icon:a.jsx(ee.Z,{})})]})},es=()=>{let e=(0,r.useCallback)(e=>a.jsx(M._,{slateProps:e,type:"Completion",mode:"edit"}),[]),t=(0,r.useCallback)(e=>a.jsx(L.A,{...e}),[]),{onClose:s,data:n,isOpen:i,type:l}=(0,o.L)(),[m,h]=(0,r.useTransition)(),p=i&&"editCompletionParagraph"===l,x=n?.questionGroup,b=x?.completion,y=(0,r.useMemo)(()=>(0,d._P)((0,S.VC)((0,G.BU)((0,T.Jh)()))),[]);if(!x||!b||!p)return null;let g=async()=>{let e=(0,d.az)({editor:y,startQuesNum:x.startQuestionNumber}),t=b.questions.length;if(e!==t){j.toast.error(`Total Blank must be equal to number question you set in question group
        Total Blank: ${e}, Total Questions: ${t} `);return}h(async()=>{try{await f({id:b.id,paragraph:JSON.stringify(y.children)}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})};return a.jsx(u.Vq,{open:p,onOpenChange:s,children:(0,a.jsxs)(u.kn,{className:"max-w-7xl",children:[(0,a.jsxs)(G.mH,{editor:y,initialValue:JSON.parse(b.paragraph),children:[a.jsx(et,{}),a.jsx(G.CX,{renderElement:e,renderLeaf:t,placeholder:"Enter some rich text…",spellCheck:!0,autoFocus:!0}),a.jsx(c.z,{disabled:m,onClick:g,children:"Save"})]}),a.jsx(u.GG,{onClick:s})]})})};var ea=(0,h.$)("6785dc7ed62977a4bfc22cfeedc567d3de9c6c0b");(0,h.$)("c6057a1adceb658404a6ade3eecd75691e8fc914");var er=s(43409),en=s(34672);function ei(){let[e,t]=(0,r.useTransition)(),{isOpen:s,type:n,data:i}=(0,r.useContext)(er.W),{onClose:l}=(0,o.L)(),m=s&&"editIdentifyInfo"===n,h=i?.identifyInfo,p=(0,b.cI)({resolver:(0,x.F)(v),defaultValues:{title:""}});return((0,r.useEffect)(()=>{h&&(p.setValue("title",h.title),p.setValue("choiceCorrect",h.choiceCorrect))},[p,h]),h&&m)?a.jsx(u.Vq,{open:m,onOpenChange:l,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await ea({formData:e,id:h.id}),j.toast.success("Updated"),l()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"choiceCorrect",render:({field:e})=>(0,a.jsxs)(E.xJ,{className:"space-y-3",children:[a.jsx(E.lX,{children:"Expected Answer"}),a.jsx(E.NI,{children:a.jsx(en.RadioGroup,{onValueChange:e.onChange,value:e.value,className:"flex flex-col space-y-1",children:[y.IdentifyChoice.TRUE,y.IdentifyChoice.FALSE,y.IdentifyChoice.NOT_GIVEN].map(e=>(0,a.jsxs)(E.xJ,{className:"flex items-center px-2 space-x-2 space-y-0 w-full hover:bg-secondary",children:[a.jsx(E.NI,{children:a.jsx(en.RadioGroupItem,{value:e})}),a.jsx(E.lX,{className:" w-full cursor-pointer py-2 ",children:e})]},e))})}),a.jsx(E.zG,{})]})})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})})})}):null}var eo=(0,h.$)("89967293a10776e71758bd6673bc9145d217e69d");(0,h.$)("f17d65f8c43eb460fa2cfa26e70f7658fb7bd71d");var el=(0,h.$)("86302d3347f060b9f30e3f3f852c2f9ce59c3407");function ed(){let[e,t]=(0,r.useTransition)(),[s,n]=(0,r.useState)([]),{onClose:i,isOpen:l,type:m,data:h}=(0,o.L)(),p=l&&"editMatchingChoiceList"===m,f=h?.questionGroup,y=f?.matching,g=(0,b.cI)({resolver:(0,x.F)(C),defaultValues:{titleForQuestion:"",matchingChoiceList:[]}});if((0,r.useEffect)(()=>{y&&(g.setValue("titleForQuestion",y.titleForQuestion||""),n(y.matchingChoiceList.map(e=>e.content)))},[g,y]),(0,r.useEffect)(()=>{s.length<g.getValues().matchingChoiceList.length&&g.resetField("matchingChoiceList"),s.forEach((e,t)=>{g.setValue(`matchingChoiceList.${t}`,e)})},[g,s]),!p||!y||!f)return null;let N=e=>{n(t=>{let s=[...t];return s.splice(e,1),s})};return a.jsx(u.Vq,{open:p,onOpenChange:i,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...g,children:(0,a.jsxs)("form",{onSubmit:g.handleSubmit(e=>{console.log(e),t(async()=>{try{await eo({formData:e,id:y.id}),j.toast.success("Updated"),i()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:g.control,name:"titleForQuestion",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),s.map((t,s)=>a.jsx(E.Wi,{control:g.control,name:`matchingChoiceList.${s}`,render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[y.matchingChoiceList[s]&&y.matchingChoiceList[s].question?a.jsx(E.lX,{children:`Question ${y.matchingChoiceList[s].question?.questionNumber}`}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(E.lX,{children:"Fake Choice"}),a.jsx("span",{children:a.jsx(c.z,{size:"sm",type:"button",onClick:()=>N(s),variant:"outline",children:"Delete"})})]}),a.jsx(E.NI,{children:a.jsx(P.I,{value:t.value||"",onChange:e=>{n(t=>{let a=[...t];return a[s]=e.target.value,a}),t.onChange(e)},disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})},s))]}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx(c.z,{disabled:e,onClick:()=>{n(e=>[...e,""])},type:"button",className:"w-full",children:"add Fake Choice"}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})]})})})})}let ec=()=>{let e=(0,r.useCallback)(e=>a.jsx(M._,{slateProps:e,type:"Matching",mode:"edit"}),[]),t=(0,r.useCallback)(e=>a.jsx(L.A,{...e}),[]),{onClose:s,data:n,isOpen:i,type:l}=(0,o.L)(),[m,h]=(0,r.useTransition)(),p=i&&"editMatchingSentence"===l,f=n?.questionGroup,x=f?.matching,b=(0,r.useMemo)(()=>(0,d._P)((0,S.VC)((0,G.BU)((0,T.Jh)()))),[]);if(!f||!x||!p)return null;let y=async()=>{let e=(0,d.az)({editor:b,startQuesNum:f.startQuestionNumber}),t=f.endQuestionNumber-f.startQuestionNumber+1;if(e!==t){j.toast.error(`Total Blank must be equal to number question you set in question group
        Total Blank: ${e}, Total Questions: ${t} `);return}h(async()=>{try{await el({id:x.id,paragraph:JSON.stringify(b.children)}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})};return a.jsx(u.Vq,{open:p,onOpenChange:s,children:(0,a.jsxs)(u.kn,{className:"max-w-7xl",children:[(0,a.jsxs)(G.mH,{editor:b,initialValue:JSON.parse(x.paragraph),children:[a.jsx(et,{}),a.jsx(G.CX,{renderElement:e,renderLeaf:t,placeholder:"Enter some rich text…",spellCheck:!0,autoFocus:!0}),a.jsx(c.z,{disabled:m,onClick:y,children:"Save"})]}),a.jsx(u.GG,{onClick:s})]})})};var eu=s(64200),em=s(85684),eh=s(62312);let ep=r.forwardRef(({className:e,...t},s)=>a.jsx(em.fC,{ref:s,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(em.z$,{className:(0,d.cn)("flex items-center justify-center text-current"),children:a.jsx(eh.Z,{className:"h-4 w-4"})})}));function ef(){let[e,t]=(0,r.useTransition)(),{onClose:s,isOpen:n,type:i,data:l}=(0,o.L)(),m=n&&"editChoice"===i,h=l?.choiceData,p=(0,b.cI)({resolver:(0,x.F)(N),defaultValues:{content:"",isCorrect:!1,explanation:""}});return((0,r.useEffect)(()=>{h&&(p.setValue("content",h.choice.content),p.setValue("isCorrect",h.choice.isCorrect),p.setValue("explanation",h.choice.explanation||""))},[p,h]),m&&h)?a.jsx(u.Vq,{open:m,onOpenChange:s,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await (0,eu.W)({formData:e,choiceData:h}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:p.control,name:"content",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Choice Content"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"isCorrect",render:({field:e})=>(0,a.jsxs)(E.xJ,{className:"flex flex-row items-start space-x-2 space-y-0",children:[a.jsx(E.NI,{children:a.jsx(ep,{checked:e.value,onCheckedChange:e.onChange})}),a.jsx(E.lX,{children:"Is Correct"}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"explanation",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Explanation"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})})})}):null}ep.displayName=em.fC.displayName;var ex=(0,h.$)("1d3fe85ca0cdb37c8635d07197e5c3ec670fdceb");function eb(){let[e,t]=(0,r.useTransition)(),{onClose:s,isOpen:n,type:i,data:l}=(0,o.L)(),m=n&&"editMultiMore"===i,h=l?.multiMore,p=(0,b.cI)({resolver:(0,x.F)(I),defaultValues:{title:""}});return((0,r.useEffect)(()=>{if(h){let e=h.choices.filter(e=>e.isCorrect).map(e=>e.id);p.setValue("title",h.title),p.setValue("choiceIdList",e)}},[p,h]),h&&m)?a.jsx(u.Vq,{onOpenChange:s,open:m,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await ex({formData:e,id:h.id}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Multiple Choice Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"choiceIdList",render:()=>(0,a.jsxs)(E.xJ,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx(E.lX,{className:"text-base",children:"Sidebar"}),a.jsx(E.pf,{children:"Select the items you want to display in the sidebar."})]}),h.choices.map(e=>a.jsx(E.Wi,{control:p.control,name:"choiceIdList",render:({field:t})=>(0,a.jsxs)(E.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(E.NI,{children:a.jsx(ep,{checked:t.value?.includes(e.id),onCheckedChange:s=>s?t.onChange([...t.value,e.id]):t.onChange(t.value?.filter(t=>t!==e.id))})}),a.jsx(E.lX,{className:"font-normal",children:e.content})]},e.id)},e.id)),a.jsx(E.zG,{})]})})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})})})}):null}(0,h.$)("28f7cee280c6bc4e822c7ea4625120fa53064748");var ej=s(81959);function ey(){let[e,t]=(0,r.useTransition)(),{onClose:s,isOpen:n,type:i,data:l}=(0,o.L)(),m=n&&"editMultiOne"===i,h=l?.multiOne,p=(0,b.cI)({resolver:(0,x.F)(w),defaultValues:{title:""}});if((0,r.useEffect)(()=>{h&&p.setValue("title",h.title)},[p,h]),!h||!m)return null;let f=h.choices.find(e=>!0===e.isCorrect);return a.jsx(u.Vq,{onOpenChange:s,open:m,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await (0,ej.Tf)({formData:e,id:h.id}),j.toast.success("Updated"),s()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Multiple Choice Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"choiceId",render:({field:e})=>(0,a.jsxs)(E.xJ,{className:"space-y-3",children:[a.jsx(E.lX,{children:"Choices"}),a.jsx(E.NI,{children:a.jsx(en.RadioGroup,{onValueChange:e.onChange,defaultValue:f?f.id:"",className:"flex flex-col space-y-1",children:h.choices.map(e=>(0,a.jsxs)(E.xJ,{className:(0,d.cn)("flex items-center px-2 space-x-2 space-y-0 w-full ",e.isCorrect?"bg-green-600 hover:opacity-85":"hover:bg-secondary"),children:[a.jsx(E.NI,{children:a.jsx(en.RadioGroupItem,{value:e.id})}),a.jsx(E.lX,{className:" w-full cursor-pointer py-2 ",children:e.content})]},e.id))})}),a.jsx(E.zG,{})]})})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"update"})]})})})})}var eg=s(2485);let eN=g.Ry({name:g.Z_().min(1,{message:"Assessment Name is required"})}),ew=g.Ry({title:g.Z_().min(1,{message:"Title Passage is required"}),description:g.Z_().min(1,{message:"Title Passage is required"})}),eI=g.Ry({title:g.Z_().min(1,{message:"Title Passage is required"}),content:g.Z_().optional(),image:g.Z_().optional(),description:g.Z_().optional(),type:g.Km([y.PassageType.PASSAGE_SIMPLE,y.PassageType.PASSAGE_MULTI_HEADING])});function ev(){let[e,t]=(0,r.useTransition)(),{type:s,isOpen:n,onClose:i}=(0,o.L)(),l=n&&"createAssessment"===s,m=(0,b.cI)({resolver:(0,x.F)(eN),defaultValues:{name:""}}),h=async e=>{t(async()=>{try{await (0,eg.Be)({formData:e}),j.toast.success("Created"),i()}catch(e){(0,d.KQ)(e)}})};return l?a.jsx(u.Vq,{open:l,onOpenChange:i,children:a.jsx(u.cZ,{children:a.jsx(E.l0,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(h),className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsx(E.Wi,{control:m.control,name:"name",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Assessment Name"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Cambridge Academy 16"})}),a.jsx(E.zG,{})]})})}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"Create"})]})})})}):null}g.Ry({title:g.Z_().min(1),content:g.Z_().min(1)}),g.Ry({title:g.Z_().optional(),paragraphWithBlanks:g.Z_().min(1,{message:"ParagraphWithBlanks is required"}),expectedAnswers:g.IX(g.Z_().min(1,{message:"Expected answer is required"}))});var eC=(0,h.$)("73499b551777069c61601bfb7422f2e19cc4f012");function eq(){let[e,t]=(0,r.useTransition)(),{data:s,type:n,isOpen:i,onClose:l}=(0,o.L)(),m=i&&"editPart"===n,h=s?.part,p=(0,b.cI)({resolver:(0,x.F)(ew),defaultValues:{title:"",description:""}});return((0,r.useEffect)(()=>{h&&(p.setValue("title",h.title),p.setValue("description",h.description))},[h,p]),h&&m)?a.jsx(u.Vq,{open:m,onOpenChange:l,children:a.jsx(u.cZ,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await eC({formData:e,id:h.id}),j.toast.success("Updated"),l()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"description",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage content"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Type content passage here.",className:"h-full"})}),a.jsx(E.zG,{})]})})]}),(0,a.jsxs)("div",{children:[a.jsx(c.z,{disabled:e,variant:"ghost",onClick:l,children:"Back"}),a.jsx(c.z,{disabled:e,type:"submit",children:"Save"})]})]})})})}):null}var eE=(0,h.$)("36644abcfaf2c0bcd1e654d1e7cefc6be26dd9d3");(0,h.$)("a7eb663f1cc3f9e8d80c55e823203210357fe142"),(0,h.$)("aeea7f3ba66210587e3f012e548a38d44ce94e2b");var eP=(0,h.$)("712ac66c7aec7c3155ad775639cdacbebf074047");function eA(){let[e,t]=(0,r.useTransition)(),{data:s,type:n,isOpen:i,onClose:l}=(0,o.L)(),m=i&&"createPassage"===n,h=s?.part,p=(0,b.cI)({resolver:(0,x.F)(eI),defaultValues:{title:""}});return h&&m?a.jsx(u.Vq,{open:m,onOpenChange:l,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await eP({formData:e,partId:h.id}),j.toast.success("Created"),l()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage Title (You can change it Later)"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"type",render:({field:e})=>(0,a.jsxs)(E.xJ,{className:"space-y-3",children:[a.jsx(E.lX,{children:"Passage Type (Important)"}),a.jsx(E.NI,{children:a.jsx(en.RadioGroup,{onValueChange:e.onChange,defaultValue:e.value,className:"flex flex-col space-y-1",children:[y.PassageType.PASSAGE_SIMPLE,y.PassageType.PASSAGE_MULTI_HEADING].map(e=>(0,a.jsxs)(E.xJ,{className:"flex items-center px-2 space-x-2 space-y-0 w-full hover:bg-secondary",children:[a.jsx(E.NI,{children:a.jsx(en.RadioGroupItem,{value:e})}),a.jsx(E.lX,{className:" w-full cursor-pointer py-2 ",children:e})]},e))})}),a.jsx(E.zG,{})]})})]}),(0,a.jsxs)("div",{children:[a.jsx(c.z,{disabled:e,type:"reset",variant:"ghost",onClick:l,children:"Back"}),a.jsx(c.z,{disabled:e,type:"submit",children:"Create"})]})]})})})}):null}let eT=({textAreaRef:e,triggerAutoSize:t,maxHeight:s=Number.MAX_SAFE_INTEGER,minHeight:a=0})=>{let[n,i]=r.useState(!0);r.useEffect(()=>{if(e){n&&(e.style.minHeight=`${a+2}px`,s>a&&(e.style.maxHeight=`${s}px`),i(!1)),e.style.height=`${a+2}px`;let t=e.scrollHeight;t>s?e.style.height=`${s}px`:e.style.height=`${t+2}px`}},[e,t,n,a,s])},eS=r.forwardRef(({maxHeight:e=Number.MAX_SAFE_INTEGER,minHeight:t=52,className:s,onChange:n,value:i,...o},l)=>{let c=r.useRef(null),[u,m]=r.useState("");return eT({textAreaRef:c.current,triggerAutoSize:u,maxHeight:e,minHeight:t}),(0,r.useImperativeHandle)(l,()=>({textArea:c.current,maxHeight:e,minHeight:t})),r.useEffect(()=>{i&&m(i)},[i]),a.jsx("textarea",{...o,value:i,ref:c,className:(0,d.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),onChange:e=>{m(e.target.value),n?.(e)}})});function eG(){let[e,t]=(0,r.useTransition)(),{data:s,type:n,isOpen:i,onClose:l}=(0,o.L)(),m=i&&"editPassage"===n,h=s?.passage,p=(0,b.cI)({resolver:(0,x.F)(eI),defaultValues:{title:"",description:""}});return((0,r.useEffect)(()=>{h&&(p.setValue("title",h.title),p.setValue("description",h.description||""),p.setValue("type",h.type),"PASSAGE_SIMPLE"===h.type&&p.setValue("content",h.content||""))},[h,p]),h&&m)?a.jsx(u.Vq,{open:m,onOpenChange:l,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(e=>{t(async()=>{try{await eE({formData:e,id:h.id}),j.toast.success("Updated"),l()}catch(e){(0,d.KQ)(e)}})}),className:"space-y-6 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[a.jsx(E.Wi,{control:p.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage Title"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Hello"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:p.control,name:"description",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage description"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Read the text and answer questions"})}),a.jsx(E.zG,{})]})}),"PASSAGE_SIMPLE"===h.type&&a.jsx(E.Wi,{control:p.control,name:"content",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Passage content"}),a.jsx(E.NI,{children:a.jsx(eS,{...t,disabled:e,placeholder:"Type content passage here.",className:"h-full"})}),a.jsx(E.zG,{})]})})]}),(0,a.jsxs)("div",{children:[a.jsx(c.z,{disabled:e,variant:"ghost",onClick:l,children:"Back"}),a.jsx(c.z,{disabled:e,type:"submit",children:"Save"})]})]})})})}):null}eS.displayName="AutosizeTextarea";var eM=(0,h.$)("20f11d8765c9e25d7bcd2c679949dfa5067d827a"),eL=(0,h.$)("dd7984d76a57c0fc44b5ff68abc6662a6d381f45");let eO=g.z.object({title:g.z.string().min(1),description:g.z.string().optional(),type:g.z.enum([y.QuestionType.MULTIPLE_CHOICE_ONE_ANSWER,y.QuestionType.MULTIPLE_CHOICE_MORE_ANSWERS,y.QuestionType.IDENTIFYING_INFORMATION,y.QuestionType.COMPLETION,y.QuestionType.TABLE_COMPLETION,y.QuestionType.MATCHING_HEADING,y.QuestionType.MATCHING]),numberColumns:g.z.coerce.number().optional(),numberRows:g.z.coerce.number().optional(),startQuestionNumber:g.z.coerce.number().min(1),endQuestionNumber:g.z.coerce.number().min(1)}).refine(e=>!(e.endQuestionNumber<=e.startQuestionNumber),{message:"End question must be larger than start question",path:["endQuestionNumber"]}).refine(e=>!(e.endQuestionNumber>40),{message:"in Reading section The endQuestionNumber must be 40 or fewer.",path:["endQuestionNumber"]}).refine(e=>e.type!==y.QuestionType.TABLE_COMPLETION||"number"==typeof e.numberColumns&&"number"==typeof e.numberRows,{message:"For TABLE_COMPLETION type, numberColumns and numberRows must be provided",path:["type"]});var e_=s(17470);function ez(){let[e,t]=(0,r.useTransition)(),{isOpen:s,type:n,onClose:l}=(0,o.L)(),{selectedPart:m,selectedAssessment:h}=(0,r.useContext)(i.J),p=s&&"createQuestionGroup"===n,f=(0,b.cI)({resolver:(0,x.F)(eO),defaultValues:{title:"",startQuestionNumber:1,endQuestionNumber:4,description:""}});if(!h||!m||!p)return null;let g=async e=>{t(async()=>{try{await eL({formData:e,partId:m.id}),j.toast.success("Created"),f.reset(),l()}catch(e){(0,d.KQ)(e)}})};return a.jsx(u.Vq,{open:p,onOpenChange:l,children:a.jsx(u.kn,{children:a.jsx(E.l0,{...f,children:(0,a.jsxs)("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(E.Wi,{control:f.control,name:"title",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Question Group Title"}),a.jsx(E.NI,{children:a.jsx(eS,{...t,disabled:e,placeholder:"Hello",className:"h-full"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:f.control,name:"description",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Question Group Description"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"write a number in here"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:f.control,name:"type",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Question Group Type"}),(0,a.jsxs)(e_.Ph,{disabled:e,onValueChange:t.onChange,children:[a.jsx(E.NI,{children:a.jsx(e_.i4,{children:a.jsx(e_.ki,{placeholder:"Select a type for question"})})}),a.jsx(e_.Bw,{className:"",children:Object.values(y.QuestionType).map(e=>(0,a.jsxs)(e_.Ql,{value:e,children:[e.replace(/_/g," ")," "]},e))})]}),a.jsx(E.zG,{})]})}),f.getValues().type===y.QuestionType.TABLE_COMPLETION&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(E.Wi,{control:f.control,name:"numberColumns",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Number of Columns"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Enter number of columns",type:"number",min:"1"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:f.control,name:"numberRows",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"Number of Rows"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"Enter number of rows",type:"number",min:"1"})}),a.jsx(E.zG,{})]})})]}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx(E.Wi,{control:f.control,name:"startQuestionNumber",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"From Question"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"write a number in here",type:"number",min:"1"})}),a.jsx(E.zG,{})]})}),a.jsx(E.Wi,{control:f.control,name:"endQuestionNumber",render:({field:t})=>(0,a.jsxs)(E.xJ,{children:[a.jsx(E.lX,{children:"To Question"}),a.jsx(E.NI,{children:a.jsx(P.I,{...t,disabled:e,placeholder:"write a number in here",type:"number",min:"2"})}),a.jsx(E.zG,{})]})})]})]}),a.jsx(c.z,{disabled:e,type:"submit",className:"w-full",children:"Create"})]})})})})}var ek=s(49177);let eR=ek.fC;ek.xz;let eQ=ek.h_,e$=r.forwardRef(({className:e,...t},s)=>a.jsx(ek.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));e$.displayName=ek.aV.displayName;let eV=r.forwardRef(({className:e,...t},s)=>(0,a.jsxs)(eQ,{children:[a.jsx(e$,{}),a.jsx(ek.VY,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));eV.displayName=ek.VY.displayName;let eD=({className:e,...t})=>a.jsx("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});eD.displayName="AlertDialogHeader";let eU=({className:e,...t})=>a.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eU.displayName="AlertDialogFooter";let eH=r.forwardRef(({className:e,...t},s)=>a.jsx(ek.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold",e),...t}));eH.displayName=ek.Dx.displayName;let eF=r.forwardRef(({className:e,...t},s)=>a.jsx(ek.dk,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));eF.displayName=ek.dk.displayName;let eZ=r.forwardRef(({className:e,...t},s)=>a.jsx(ek.aU,{ref:s,className:(0,d.cn)((0,c.d)(),e),...t}));eZ.displayName=ek.aU.displayName;let eJ=r.forwardRef(({className:e,...t},s)=>a.jsx(ek.$j,{ref:s,className:(0,d.cn)((0,c.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));function eW(){let[e,t]=(0,r.useTransition)(),{data:s,isOpen:n,type:i,onClose:l}=(0,o.L)(),c=n&&"deleteQuestionGroup"===i,u=s?.questionGroup;if(!c||!u)return null;let m=async()=>{t(async()=>{try{await eM({id:u.id}),j.toast.success("Deleted"),l()}catch(e){(0,d.KQ)(e)}})};return a.jsx(eR,{open:c,onOpenChange:l,children:(0,a.jsxs)(eV,{children:[(0,a.jsxs)(eD,{children:[a.jsx(eH,{children:"Are you absolutely sure?"}),a.jsx(eF,{children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."})]}),(0,a.jsxs)(eU,{children:[a.jsx(eJ,{disabled:e,children:"Cancel"}),a.jsx(eZ,{disabled:e,onClick:m,children:"Continue"})]})]})})}eJ.displayName=ek.$j.displayName;let eX=function(){let{isSubmit:e}=(0,r.useContext)(i.J);return e?a.jsx(u.Vq,{open:e,children:a.jsx(u.cZ,{children:a.jsx(u.fK,{children:a.jsx(u.$N,{children:"Is Submitting"})})})}):null};function eB(){let[e,t]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsxs)(a.Fragment,{children:[a.jsx(ev,{}),a.jsx(m,{}),a.jsx(eq,{}),a.jsx(eA,{}),a.jsx(eG,{}),a.jsx(ez,{}),a.jsx(eW,{}),a.jsx(ey,{}),a.jsx(eb,{}),a.jsx(ef,{}),a.jsx(ei,{}),a.jsx(eX,{}),a.jsx(es,{}),a.jsx(A,{}),a.jsx(ec,{}),a.jsx(ed,{})]}):null}},68105:(e,t,s)=>{"use strict";s.d(t,{i:()=>i});var a=s(3729),r=s(26777),n=s(22202);let i=()=>{let{matchingChoiceId:e,questionGroupId:t,setQuestionId:s,questionId:i,setChoiceGroupOver:o,setMatchingChoiceList:l,setMatchingChoiceId:d,setQuestionGroupId:c}=(0,a.useContext)(r.L),{selectedPart:u,setUserAnswers:m,userAnswers:h,setCurrentRef:p,questionRefs:f}=(0,a.useContext)(n.J);return{handleDragEnd:()=>{o(!1);let a=u?.questionGroups.find(e=>e.id===t);if(!a)return;let r=a.questions.find(e=>e.id===i);if(!r)return;s(null);let n=a.matching?.matchingChoiceList.find(t=>t.id===e);if(!n)return;let d=h.find(e=>e.questionNumber===r.questionNumber);l(t=>{let s=t.map(t=>t.id===e?{...t,content:""}:t);return d&&"MATCHING"===d.type?s.map(e=>e.id===d.matchingChoiceId?{...e,content:d.content}:e):s}),m(e=>{let t=[...e],s=t.findIndex(e=>e.questionNumber===r.questionNumber&&"MATCHING"===e.type);return -1!==s?t[s]={...t[s],type:"MATCHING",content:n.content,matchingChoiceId:n.id}:t.push({questionNumber:r.questionNumber,type:"MATCHING",matchingChoiceId:n.id,content:n.content}),t})},handleDragStart:(e,t)=>{c(e),d(t)},handleDragOver:({event:e,type:t,questionId:a})=>{e.preventDefault(),"groupChoice"===t&&o(!0),"question"===t&&s(a)},handleDragLeave:e=>{o(!1),s(null)},handleDrop:({event:e,quesNum:t,type:s})=>{if(e.preventDefault(),"question"===s){p(t-1);let e=f[t-1].current;e&&e.scrollIntoView({behavior:"smooth"})}else"groupChoice"===s&&console.log("aaaaaaa")}}}},36287:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});var a=s(3729),r=s(43409);let n=()=>{let{setIsOpen:e,setData:t,setType:s,isOpen:n,data:i,type:o}=(0,a.useContext)(r.W);return{onClose:function(){e(!1),s(null),t(void 0)},onOpen:function({type:a,data:r}){t(r),s(a),e(!0)},isOpen:n,type:o,data:i}}},62626:(e,t,s)=>{"use strict";s.d(t,{p:()=>c});var a=s(3729),r=s(64200),n=s(81959),i=s(38262);s(13664);var o=(0,s(28371).$)("b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df"),l=s(87465),d=s(22202);let c=()=>{let{userAnswers:e,questionRefs:t,setCurrentRef:s,currentRef:c,setActiveTab:u,selectedAssessment:m,setUserAnswers:h,selectedPart:p,timeRemaining:f,setMode:x,setIsSubmit:b}=(0,a.useContext)(d.J);return{handleAnswerChange:function(e){let{questionNumber:t,type:s}=e;h(a=>{let r=[...a],n=r.findIndex(e=>e.questionNumber===t),i=(()=>{switch(s){case"MULTIPLE_CHOICE_ONE_ANSWER":return{questionNumber:t,type:s,choiceId:e.choiceId};case"MULTI_MORE":return{questionNumber:t,type:s,choiceIdList:e.choiceIdList};case"IDENTIFY_INFO":case"COMPLETION":return{questionNumber:t,type:s,content:e.content};default:throw Error(`Unsupported answer type: ${s}`)}})();return -1!==n?r[n]=i:r.push(i),r})},handleSubmit:async function t(){if(!m)return null;console.log("User Answers:",e),b(!0);let t=0,s=e.map(async e=>{let s;let a=await (0,i.a5)({assessmentId:m.id,questionNumber:e.questionNumber});switch(e.type){case"MULTIPLE_CHOICE_ONE_ANSWER":let o=await (0,r.t)(e.choiceId);s=l.VH[o.order],await (0,i.hD)({questionId:a.id,respond:s}),!0===o.isCorrect&&t++;break;case"MULTI_MORE":for(let s of e.choiceIdList)await (0,n.iz)(s)&&t++;break;case"IDENTIFY_INFO":case"COMPLETION":s=e.content,await (0,i.hD)({questionId:a.id,respond:s}),a.correctAnswer===s&&t++}});await Promise.all(s);let a=m.duration-f,d=.25*t;await o({score:d,timeSpent:a,totalCorrectAnswers:t,assessmentId:m.id}),x(null),b(!1),console.log("\uD83D\uDE80 ~ handleSubmit ~ score:",d)},handleNextQuestion:function(){if(!m||!p)return null;if(c+1<p.questionGroups[p.questionGroups.length-1].endQuestionNumber){s(c+1);let e=t[c+1].current;e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}else{let e=m.parts.find(e=>e.order===p.order+1);e?(s(e.questionGroups[0].startQuestionNumber-1),u(e.id)):u("delivering")}},handlePrevQuestion:function(){if(!m||!p)return null;if(c>=p.questionGroups[0].startQuestionNumber){s(c-1);let e=t[c-1].current;e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}else{let e=m.parts.find(e=>e.order===p.order-1);e&&u(e.id)}},handleQuestionSelected:function(e){s(e-1)},isHasNextQuestion:c<t.length-1,isHasPrevQuestion:c>0}}},91626:(e,t,s)=>{"use strict";s.d(t,{KQ:()=>h,_P:()=>d,az:()=>c,cn:()=>l,mr:()=>u,uJ:()=>m});var a=s(56815),r=s(43386),n=s(34755),i=s(79377),o=s(29709);function l(...e){return(0,i.m6)((0,a.W)(e))}let d=e=>{let{isInline:t}=e;return e.isInline=e=>["blank"].includes(e.type)||t(e),e},c=({editor:e,startQuesNum:t})=>{let s=0;for(let[a,n]of r.ML.nodes(e,{at:[]}))if(r.W_.isElement(a)&&"blank"===a.type){let{type:i,...o}=a,l={...o,type:i,questionNumber:t+s};s++,r.YR.setNodes(e,{...l},{at:n})}return s},u=e=>{let t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`},m=(e,t)=>{let s=t.toString(),a=`${s.length?"?":""}${s}`;return`${e}${a}`};function h(e){if(e instanceof o.z.ZodError){let t=e.issues.map(e=>e.message);return n.toast.error(t.join("\n"))}return e instanceof Error?n.toast.error(e.message):n.toast.error("Something went wrong, please try again later.")}},58545:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createCompletion:()=>l,updateCompletionAnswers:()=>c,updateCompletionParagraph:()=>d});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(39094),o=s(17824);let l=async(e,t)=>{let s=(0,i.getTotalQuestions)(e),a=Array.from({length:s},(t,s)=>({type:"paragraph",children:[{text:"This is note completion example "},{type:"blank",children:[{text:" hello"}],questionNumber:e.startQuestionNumber+s},{text:" rich",bold:!0},{text:" text, "},{text:" much",italic:!0},{text:" better than a!"}]}));await n.db.completion.create({data:{questionGroupId:e.id,paragraph:JSON.stringify(a),questions:{createMany:{data:Array.from({length:s}).map((s,a)=>({questionGroupId:e.id,questionNumber:e.startQuestionNumber+a,correctAnswer:"hello",partId:e.partId,assessmentId:t}))}}}})},d=async({id:e,paragraph:t})=>{let s=await n.db.completion.findUnique({where:{id:e},select:{questionGroup:{select:{part:{select:{assessmentId:!0}}}}}});if(!s)throw Error("Completion Id not found");await n.db.completion.update({where:{id:e},data:{paragraph:t}}),(0,r.revalidatePath)(`/assessments/${s.questionGroup.part.assessmentId}`)},c=async({formData:e,id:t})=>{let s=await n.db.completion.findUnique({where:{id:t},include:{questions:{orderBy:{questionNumber:"asc"}},questionGroup:{select:{part:{select:{assessmentId:!0}}}}}});if(!s)throw Error("Completion Id not found");let{questions:a}=e;await n.db.completion.update({where:{id:t},data:{questions:{updateMany:a.map((e,t)=>({where:{id:s.questions[t].id},data:{correctAnswer:e.correctAnswer,explain:e.explain}}))}}}),(0,r.revalidatePath)(`/assessments/${s.questionGroup.part.assessmentId}`)};(0,o.ensureServerEntryExports)([l,d,c]),(0,a.createActionProxy)("d73fb79915618bc4d259cb744cc710ab48f2b6e5",l),(0,a.createActionProxy)("561e1f84b16d26cae646807326c2b228b7ee1897",d),(0,a.createActionProxy)("6dd6002a719b6773d36a9abebdc44f2f48317665",c)},76176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createIdentifyInfoList:()=>d,updateIdentifyInfo:()=>c});var a=s(98601);s(75811);var r=s(43811),n=s(53524),i=s(89756),o=s(39094),l=s(17824);let d=async(e,t)=>{Array.from({length:(0,o.getTotalQuestions)(e)}).map(async(s,a)=>await i.db.question.create({data:{questionNumber:e.startQuestionNumber+a,questionGroupId:e.id,correctAnswer:n.IdentifyChoice.TRUE,partId:e.partId,assessmentId:t,identifyInfo:{create:{questionGroupId:e.id,title:"This is title for identify information question",choiceCorrect:"TRUE"}}}}))},c=async({formData:e,id:t})=>{let s=await i.db.identifyingInformation.findUnique({where:{id:t},select:{question:{select:{assessmentId:!0}}}});if(!s)throw Error("IdentifyInfo Id not found");await i.db.identifyingInformation.update({where:{id:t},data:{...e}}),(0,r.revalidatePath)(`/assessments/${s.question.assessmentId}`)};(0,l.ensureServerEntryExports)([d,c]),(0,a.createActionProxy)("c6057a1adceb658404a6ade3eecd75691e8fc914",d),(0,a.createActionProxy)("6785dc7ed62977a4bfc22cfeedc567d3de9c6c0b",c)},54793:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMatching:()=>l,updateMatchingChoiceList:()=>c,updateMatchingParagraph:()=>d});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(39094),o=s(17824);let l=async(e,t)=>{let s=(0,i.getTotalQuestions)(e),a=Array.from({length:s},(t,s)=>({type:"paragraph",children:[{text:"This is note completion example "},{type:"blank",children:[{text:" hello"}],questionNumber:e.startQuestionNumber+s},{text:" rich",bold:!0},{text:" text, "},{text:" much",italic:!0},{text:" better than a!"}]}));await n.db.matching.create({data:{questionGroupId:e.id,paragraph:JSON.stringify(a),titleForQuestion:"List of Heading",matchingChoiceList:{create:Array.from({length:3+s}).map((a,r)=>({content:`This is an example sentence number ${r+1}`,...r<s&&{question:{create:{questionNumber:e.startQuestionNumber+r,correctAnswer:`This is an example sentence number ${r+1}`,questionGroupId:e.id,partId:e.partId,assessmentId:t}}}}))}}})},d=async({id:e,paragraph:t})=>{let s=await n.db.matching.findUnique({where:{id:e},select:{questionGroup:{select:{part:{select:{assessmentId:!0}}}}}});if(!s)throw Error("matching Id not found");await n.db.matching.update({where:{id:e},data:{paragraph:t}}),(0,r.revalidatePath)(`/assessments/${s.questionGroup.part.assessmentId}`)},c=async({id:e,formData:t})=>{let{titleForQuestion:s,matchingChoiceList:a}=t,i=await n.db.matching.findUnique({where:{id:e},include:{matchingChoiceList:{orderBy:{question:{questionNumber:"asc"}}},questionGroup:{include:{part:{select:{assessmentId:!0}},questions:{orderBy:{questionNumber:"asc"}}}}}});if(!i)throw Error("matching Id not found");a.length!==i.matchingChoiceList.length?(await n.db.matching.delete({where:{id:e}}),await n.db.matching.create({data:{titleForQuestion:s,questionGroupId:i.questionGroup.id,paragraph:i.paragraph,matchingChoiceList:{createMany:{data:a.map((e,t)=>({content:e,questionId:t<i.questionGroup.questions.length-1?i.questionGroup.questions[t].id:null}))}}}})):await n.db.matching.update({where:{id:i.id},data:{titleForQuestion:s,matchingChoiceList:{update:i.matchingChoiceList.map((e,t)=>({where:{id:e.id},data:{content:a[t]}}))}}}),(0,r.revalidatePath)(`/assessments/${i.questionGroup.part.assessmentId}`)};(0,o.ensureServerEntryExports)([l,d,c]),(0,a.createActionProxy)("f17d65f8c43eb460fa2cfa26e70f7658fb7bd71d",l),(0,a.createActionProxy)("86302d3347f060b9f30e3f3f852c2f9ce59c3407",d),(0,a.createActionProxy)("89967293a10776e71758bd6673bc9145d217e69d",c)},20582:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getChoiceById:()=>o,updateChoice:()=>l});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(17824);let o=async e=>{let t=await n.db.choice.findUnique({where:{id:e}});if(!t)throw Error("Choice Id not found");return t},l=async({formData:e,choiceData:t})=>{let{type:s,choice:a}=t;if("MULTI_ONE"===s){let{multiOneId:s}=t,i=await n.db.multipleChoiceOneAnswer.findUnique({where:{id:s},select:{question:{select:{assessmentId:!0}}}});if(!i)throw Error("MultiOne ID not found");await n.db.choice.update({where:{id:a.id},data:{...e}});let{isCorrect:o}=e;o&&await n.db.choice.updateMany({where:{NOT:{id:a.id},multiOneId:s},data:{isCorrect:!1}}),(0,r.revalidatePath)(`/assessments/${i.question.assessmentId}`)}else if("MULTI_MORE"===s){let{multiMoreId:s}=t,i=await n.db.multipleChoiceMoreAnswers.findUnique({where:{id:s},select:{question:{select:{assessmentId:!0}}}});if(!i)throw Error("MultiMore ID not found");await n.db.choice.update({where:{id:a.id},data:{...e}}),(0,r.revalidatePath)(`/assessments/${i.question.assessmentId}`)}};(0,i.ensureServerEntryExports)([o,l]),(0,a.createActionProxy)("7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33",o),(0,a.createActionProxy)("348f4591ea0e3a316e8f14618a5c97a8c9a991bd",l)},47581:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMultiMoreList:()=>o,updateMultiMore:()=>l});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(17824);let o=async({questionGroupId:e})=>{let t=await n.db.questionGroup.findUnique({where:{id:e},select:{questions:{select:{id:!0}}}});if(!t)throw Error("QUestion Group Id not found");t.questions.map(async t=>{await n.db.multipleChoiceMoreAnswers.create({data:{questionGroupId:e,title:"example",questionId:t.id,expectedAnswers:["Option 1","Option 2"],choices:{createMany:{data:Array.from({length:4}).map((e,t)=>({content:`Option ${t+1}`,order:t,isCorrect:t<2}))}}}})})},l=async({formData:e,id:t})=>{let{title:s,choiceIdList:a}=e,i=await n.db.multipleChoiceMoreAnswers.findUnique({where:{id:t},select:{question:{select:{assessmentId:!0}}}});if(!i)throw Error("MultiMore ID not found");await n.db.multipleChoiceMoreAnswers.update({where:{id:t},data:{title:s,choices:{updateMany:{where:{id:{in:a}},data:{isCorrect:!0}}}}}),await n.db.choice.updateMany({where:{NOT:{id:{in:a}},multiMoreId:t},data:{isCorrect:!1}}),(0,r.revalidatePath)(`/assessments/${i.question.assessmentId}`)};(0,i.ensureServerEntryExports)([o,l]),(0,a.createActionProxy)("28f7cee280c6bc4e822c7ea4625120fa53064748",o),(0,a.createActionProxy)("1d3fe85ca0cdb37c8635d07197e5c3ec670fdceb",l)},28176:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createMultiOneList:()=>d,isChoiceCorrect:()=>u,updateMultiOne:()=>c});var a=s(98601);s(75811);var r=s(43811),n=s(81963),i=s(89756),o=s(39094),l=s(17824);let d=async(e,t)=>{Array.from({length:(0,o.getTotalQuestions)(e)}).map(async(s,a)=>await i.db.question.create({data:{questionNumber:e.startQuestionNumber+a,questionGroupId:e.id,correctAnswer:n.CHOICE_OPTIONS[0],partId:e.partId,assessmentId:t,multiOne:{create:{title:"This is title for multi one question",questionGroupId:e.id,choices:{createMany:{data:Array.from({length:n.CHOICE_OPTIONS.length}).map((e,t)=>({content:`Option ${t+1}`,order:t,isCorrect:0===t}))}}}}}}))},c=async({formData:e,id:t})=>{let{title:s,...a}=e,n=await i.db.multipleChoiceOneAnswer.findUnique({where:{id:t},select:{question:{select:{assessmentId:!0}}}});if(!n)throw Error("MultiOne ID not found");await i.db.multipleChoiceOneAnswer.update({where:{id:t},data:{title:s,choices:{update:{where:{id:a.choiceId},data:{isCorrect:!0}}}}}),await i.db.choice.updateMany({where:{NOT:{id:a.choiceId},multiOneId:t},data:{isCorrect:!1}}),(0,r.revalidatePath)(`/assessments/${n.question.assessmentId}`)},u=async e=>{let t=await i.db.choice.findUnique({where:{id:e},select:{isCorrect:!0}});if(!t)throw Error("Choice Id not found");return t.isCorrect};(0,l.ensureServerEntryExports)([d,c,u]),(0,a.createActionProxy)("9e29895df62c42ba7a36f6845e4eae27911c1b74",d),(0,a.createActionProxy)("92a39d477e47b317e35e397cb3d435c18e928bc4",c),(0,a.createActionProxy)("ee02d34ff8acfbec65c3cb8d7dd6651b007a0386",u)},68483:(e,t,s)=>{"use strict";s.d(t,{createTableCompletion:()=>o});var a=s(98601);s(75811);var r=s(89756),n=s(39094),i=s(17824);let o=async({questionGroup:e,assessmentId:t,numberColumns:s,numberRows:a})=>{let i=(0,n.getTotalQuestions)(e),o=0,l=[{type:"paragraph",children:[{text:"Since the editor is based on a recursive tree model, similar to an HTML document, you can create complex nested structures, like tables:"}]},{type:"table",children:Array.from({length:a},()=>({type:"table-row",children:Array.from({length:s},(e,t)=>{let s=t%2!=0&&o<i;return s&&o++,{type:"table-cell",children:[{text:"Human",bold:!0,code:s}]}})}))}];await r.db.completion.create({data:{questionGroupId:e.id,paragraph:JSON.stringify(l),questions:{createMany:{data:Array.from({length:i}).map((s,a)=>({questionGroupId:e.id,questionNumber:e.startQuestionNumber+a,correctAnswer:"hello",partId:e.partId,assessmentId:t}))}}}})};(0,i.ensureServerEntryExports)([o]),(0,a.createActionProxy)("92f41d731599d691a7829c7d43438625e574ed4f",o)},34892:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createAssessment:()=>d,getAssessmentIdByPartId:()=>u,getAssessmentIdByQuestionGroupId:()=>c,publicAssessment:()=>m});var a=s(98601);s(75811);var r=s(52810),n=s(81963),i=s(89756),o=s(39094),l=s(17824);let d=async({formData:e})=>{let t=await i.db.assessment.create({data:{...e,totalQuestions:40,duration:3600,parts:{create:Array.from({length:3}).map((e,t)=>({title:`Part ${t+1}`,description:"Part Description",order:t}))}}}),s=new URLSearchParams;s.set("mode",n.MODE.edit);let a=`/assessments/${t.id}`;(0,r.redirect)((0,o.createUrl)(a,s))};async function c(e){let t=await i.db.questionGroup.findUnique({where:{id:e},select:{part:{select:{assessmentId:!0}}}});if(!t)throw Error("Question Group Id Not found");return t.part.assessmentId}async function u(e){let t=await i.db.part.findUnique({where:{id:e},select:{assessmentId:!0}});if(!t)throw Error("Part Id Not found");return t.assessmentId}async function m(e){await i.db.assessment.update({where:{id:e},data:{isPublic:!0}})}(0,l.ensureServerEntryExports)([d,c,u,m]),(0,a.createActionProxy)("5cdf9fc5100262f07752297272faee8055782770",d),(0,a.createActionProxy)("d1041361be3f9a63f1cb8f0c97e40608dbe358d0",c),(0,a.createActionProxy)("827df6d0c9316cf40f1ae02724d60c56d3bb4c93",u),(0,a.createActionProxy)("456ee2a1690c538bcca175d6e4f9496ac91bd183",m)},19471:(e,t,s)=>{"use strict";s.r(t),s.d(t,{updatePart:()=>o});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(17824);let o=async({formData:e,id:t})=>{let s=await n.db.part.findUnique({where:{id:t},select:{assessmentId:!0}});if(!s)throw Error("Part Id not found");await n.db.part.update({where:{id:t},data:{...e}}),(0,r.revalidatePath)(`/assessments/${s.assessmentId}`)};(0,i.ensureServerEntryExports)([o]),(0,a.createActionProxy)("73499b551777069c61601bfb7422f2e19cc4f012",o)},64108:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createPassage:()=>c,createPassageMultiHeading:()=>d,createPassageSimple:()=>l,updatePassage:()=>u});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(34892),o=s(17824);let l=async({title:e,partId:t})=>{await n.db.passage.create({data:{title:e,content:"This is example for simple passage",partId:t,description:"this is description",type:"PASSAGE_SIMPLE"}})},d=async({title:e,partId:t})=>{await n.db.passage.create({data:{title:e,content:"This is example for simple passage",partId:t,description:"this is description",type:"PASSAGE_MULTI_HEADING",passageHeadingList:{createMany:{data:Array.from({length:5}).map((e,t)=>({title:`Title for Heading ${t+1}`,content:"this is Example for create multiple heading",order:t}))}}}})},c=async({formData:e,partId:t})=>{let s=await (0,i.getAssessmentIdByPartId)(t),{type:a,title:n}=e;"PASSAGE_SIMPLE"===a&&await l({title:n,partId:t}),"PASSAGE_MULTI_HEADING"===a&&await d({title:n,partId:t}),(0,r.revalidatePath)(`/assessments/${s}`)},u=async({formData:e,id:t})=>{let s=await n.db.passage.findUnique({where:{id:t},select:{part:{select:{assessmentId:!0}}}});if(!s)throw Error("Passage Id Not Found");await n.db.passage.update({where:{id:t},data:{...e}}),(0,r.revalidatePath)(`/assessments/${s.part.assessmentId}`)};(0,o.ensureServerEntryExports)([l,d,c,u]),(0,a.createActionProxy)("a7eb663f1cc3f9e8d80c55e823203210357fe142",l),(0,a.createActionProxy)("aeea7f3ba66210587e3f012e548a38d44ce94e2b",d),(0,a.createActionProxy)("712ac66c7aec7c3155ad775639cdacbebf074047",c),(0,a.createActionProxy)("36644abcfaf2c0bcd1e654d1e7cefc6be26dd9d3",u)},24314:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createQuestionGroup:()=>h,deleteQuestionGroup:()=>p});var a=s(98601);s(75811);var r=s(43811),n=s(89756),i=s(58545),o=s(76176),l=s(54793),d=s(47581),c=s(28176),u=s(68483),m=s(17824);let h=async({formData:e,partId:t})=>{let{numberColumns:s,numberRows:a,...m}=e;if("TABLE_COMPLETION"===e.type&&(!s||!a))throw Error("Missing number Col, Row");let h=await n.db.part.findUnique({where:{id:t},select:{assessmentId:!0}});if(!h)throw Error("Part Id not found!");let p=await n.db.question.findMany({where:{assessmentId:h.assessmentId,questionNumber:{gte:e.startQuestionNumber,lte:e.endQuestionNumber}},select:{questionNumber:!0}});if(p.length){let e=p.map(e=>e.questionNumber);throw Error(`The following Questions ${e.join(", ")} already exist. Please try again.`)}let f=await n.db.questionGroup.create({data:{...m,partId:t}});switch(e.type){case"MULTIPLE_CHOICE_ONE_ANSWER":await (0,c.createMultiOneList)(f,h.assessmentId);break;case"MULTIPLE_CHOICE_MORE_ANSWERS":await (0,d.createMultiMoreList)({questionGroupId:f.id});break;case"IDENTIFYING_INFORMATION":await (0,o.createIdentifyInfoList)(f,h.assessmentId);break;case"COMPLETION":await (0,i.createCompletion)(f,h.assessmentId);break;case"TABLE_COMPLETION":await (0,u.createTableCompletion)({questionGroup:f,assessmentId:h.assessmentId,numberColumns:e.numberColumns,numberRows:e.numberRows});break;case"MATCHING":await (0,l.createMatching)(f,h.assessmentId);break;default:throw Error(`Unsupported question group type: ${e.type}`)}(0,r.revalidatePath)(`/assessments/${h.assessmentId}`)},p=async({id:e})=>{let t=await n.db.questionGroup.findUnique({where:{id:e},select:{part:{select:{assessmentId:!0}}}});if(!t)throw Error("Question Group Not Found");await n.db.questionGroup.delete({where:{id:e}}),(0,r.revalidatePath)(`/assessments/${t.part.assessmentId}`)};(0,m.ensureServerEntryExports)([h,p]),(0,a.createActionProxy)("dd7984d76a57c0fc44b5ff68abc6662a6d381f45",h),(0,a.createActionProxy)("20f11d8765c9e25d7bcd2c679949dfa5067d827a",p)},27279:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getCorrectAnswerByQuestionId:()=>i,getQuestion:()=>l,updateRespond:()=>o});var a=s(98601);s(75811);var r=s(89756),n=s(17824);let i=async e=>{let t=await r.db.question.findUnique({where:{id:e},select:{correctAnswer:!0}});if(!t)throw Error("Question Id Not FOund");return t.correctAnswer},o=async({questionId:e,respond:t})=>{await r.db.question.update({where:{id:e},data:{respond:t}})},l=async({assessmentId:e,questionNumber:t})=>{let s=await r.db.question.findUnique({where:{assessmentId_questionNumber:{assessmentId:e,questionNumber:t}}});if(!s)throw Error("Assessment Id or Question Number wrong");return s};(0,n.ensureServerEntryExports)([i,o,l]),(0,a.createActionProxy)("4db26a0ba77ad2ec2566def30570c053733cebd3",i),(0,a.createActionProxy)("1f308bd869fb5bcb145fc1b44954debb21770560",o),(0,a.createActionProxy)("7253e3e8d3e871017ea1f263ed398c6f9b834458",l)},87458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createOrUpdateResult:()=>l});var a=s(98601);s(75811);var r=s(43811),n=s(52810),i=s(89756),o=s(17824);let l=async({score:e,timeSpent:t,totalCorrectAnswers:s,assessmentId:a})=>{await i.db.result.findUnique({where:{assessmentId:a}})?await i.db.result.update({where:{assessmentId:a},data:{timeSpent:t,score:e,totalCorrectAnswers:s}}):await i.db.result.create({data:{timeSpent:t,score:e,totalCorrectAnswers:s,assessmentId:a}}),(0,r.revalidatePath)(`/score/${a}`),(0,n.redirect)(`/score/${a}`)};(0,o.ensureServerEntryExports)([l]),(0,a.createActionProxy)("b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df",l)},16238:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N,metadata:()=>g});var a=s(25036);s(7633);var r=s(27171),n=s(71534),i=s(30499),o=s(86843);let l=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/components/providers/theme-provider.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let u=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/components/providers/theme-provider.tsx#ThemeProvider`),m=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/global/global-state.tsx`),{__esModule:h,$$typeof:p}=m;m.default;let f=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/global/global-state.tsx#GlobalState`),x=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/global/modal-provider.tsx`),{__esModule:b,$$typeof:j}=x;x.default;let y=(0,o.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/global/modal-provider.tsx#ModalProvider`),g={title:"Create Next App",description:"Generated by create next app"};async function N({children:e}){let t=await (0,n.I8)();return a.jsx(i.eA,{session:t,children:a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:a.jsx("body",{children:(0,a.jsxs)(u,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,a.jsxs)(f,{children:[a.jsx(y,{}),e]}),a.jsx(r.x,{closeButton:!0})]})})})})}},71534:(e,t,s)=>{"use strict";s.d(t,{HT:()=>b,a4:()=>j,I8:()=>y});var a=s(78539),r=s(47033);let n=async e=>{try{return await r.db.user.findUnique({where:{email:e}})}catch{return null}},i=async e=>{try{return await r.db.user.findUnique({where:{id:e}})}catch{return null}};var o=s(53524),l=s(82196);l.Ry({name:l.jt(l.Z_()),isTwoFactorEnabled:l.jt(l.O7()),role:l.Km([o.UserRole.ADMIN,o.UserRole.USER]),email:l.jt(l.Z_().email()),password:l.jt(l.Z_().min(1)),newPassword:l.jt(l.Z_().min(6))}).refine(e=>!e.password||!!e.newPassword,{message:"New password is required!",path:["newPassword"]}).refine(e=>!e.newPassword||!!e.password,{message:"Password is required!",path:["password"]});let d=l.Ry({email:l.Z_().email({message:"Email is required"}),password:l.Z_().min(1,{message:"Password is required"}),code:l.jt(l.Z_())});l.Ry({password:l.Z_().min(1,{message:"Minimum of 6 characters required"})}),l.Ry({email:l.Z_().email({message:"Email is required"}),password:l.Z_().min(1,{message:"Password is required"}),name:l.Z_().min(1,{message:"Name is required"})}),l.Ry({email:l.Z_().email({message:"Email is required"})});var c=s(6521),u=s.n(c),m=s(74564),h=s(79307);let p={providers:[(0,s(52801).Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}),(0,h.Z)({clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET}),(0,m.Z)({async authorize(e){let t=d.safeParse(e);if(t.success){let{email:e,password:s}=t.data,a=await n(e);if(!a||!a.password)return null;if(await u().compare(s,a.password))return a}return null}})]};var f=s(65822);let x=async e=>{try{return await r.db.account.findFirst({where:{userId:e}})}catch{return null}},{handlers:{GET:b,POST:j},auth:y,signIn:g,signOut:N}=(0,a.Z)({session:{strategy:"jwt"},pages:{signIn:"/auth/login",error:"/auth/error"},events:{async linkAccount({user:e}){await r.db.user.update({where:{id:e.id},data:{emailVerified:new Date}})}},callbacks:{async signIn({user:e,account:t}){let s;return t?.provider!=="credentials"||(e.id&&(s=await i(e.id)),!!s?.emailVerified)},session:async({session:e,token:t})=>(t.sub&&e.user&&(e.user.id=t.sub),t.role&&e.user&&(e.user.role=t.role),e.user&&(e.user.isTwoFactorEnabled=t.isTwoFactorEnabled,e.user.name=t.name,e.user.email=t.email,e.user.isOAuth=t.isOAuth),e),async jwt({token:e}){if(!e.sub)return e;let t=await i(e.sub);if(!t)return e;let s=await x(t.id);return e.isOAuth=!!s,e.name=t.name,e.role=t.role,e.isTwoFactorEnabled=t.isTwoFactorEnabled,e}},adapter:(0,f.N)(r.db),...p})},81963:(e,t,s)=>{"use strict";s.d(t,{CHOICE_OPTIONS:()=>r,MODE:()=>a});let a={edit:"edit",exam:"exam"},r=["A","B","C","D"]},89756:(e,t,s)=>{"use strict";s.d(t,{db:()=>r});var a=s(53524);let r=globalThis.prisma||new a.PrismaClient},47033:(e,t,s)=>{"use strict";s.d(t,{db:()=>r});var a=s(53524);let r=globalThis.prisma||new a.PrismaClient},39094:(e,t,s)=>{"use strict";s.d(t,{createUrl:()=>r,getTotalQuestions:()=>a}),s(61651);let a=e=>e.endQuestionNumber-e.startQuestionNumber+1,r=(e,t)=>{let s=t.toString(),a=`${s.length?"?":""}${s}`;return`${e}${a}`}},7633:()=>{}};