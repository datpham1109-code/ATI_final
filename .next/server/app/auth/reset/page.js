(()=>{var e={};e.id=66,e.ids=[66],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50852:e=>{"use strict";e.exports=require("async_hooks")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},58579:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>c.a,__next_app__:()=>l,originalPathname:()=>f,pages:()=>o,routeModule:()=>u,tree:()=>b});var s=a(50482),d=a(69108),r=a(62563),c=a.n(r),n=a(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let b=["",{children:["auth",{children:["reset",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,50742)),"/home/ubuntu/github_repo/ieltstrek/app/auth/reset/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,50984)),"/home/ubuntu/github_repo/ieltstrek/app/auth/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,16238)),"/home/ubuntu/github_repo/ieltstrek/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/ubuntu/github_repo/ieltstrek/app/auth/reset/page.tsx"],f="/auth/reset/page",l={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/auth/reset/page",pathname:"/auth/reset",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:b}})},51216:(e,t,a)=>{let s={"561e1f84b16d26cae646807326c2b228b7ee1897":()=>Promise.resolve().then(a.bind(a,58545)).then(e=>e.updateCompletionParagraph),"6dd6002a719b6773d36a9abebdc44f2f48317665":()=>Promise.resolve().then(a.bind(a,58545)).then(e=>e.updateCompletionAnswers),d73fb79915618bc4d259cb744cc710ab48f2b6e5:()=>Promise.resolve().then(a.bind(a,58545)).then(e=>e.createCompletion),"348f4591ea0e3a316e8f14618a5c97a8c9a991bd":()=>Promise.resolve().then(a.bind(a,20582)).then(e=>e.updateChoice),"7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33":()=>Promise.resolve().then(a.bind(a,20582)).then(e=>e.getChoiceById),"92a39d477e47b317e35e397cb3d435c18e928bc4":()=>Promise.resolve().then(a.bind(a,28176)).then(e=>e.updateMultiOne),"9e29895df62c42ba7a36f6845e4eae27911c1b74":()=>Promise.resolve().then(a.bind(a,28176)).then(e=>e.createMultiOneList),ee02d34ff8acfbec65c3cb8d7dd6651b007a0386:()=>Promise.resolve().then(a.bind(a,28176)).then(e=>e.isChoiceCorrect),"1f308bd869fb5bcb145fc1b44954debb21770560":()=>Promise.resolve().then(a.bind(a,27279)).then(e=>e.updateRespond),"4db26a0ba77ad2ec2566def30570c053733cebd3":()=>Promise.resolve().then(a.bind(a,27279)).then(e=>e.getCorrectAnswerByQuestionId),"7253e3e8d3e871017ea1f263ed398c6f9b834458":()=>Promise.resolve().then(a.bind(a,27279)).then(e=>e.getQuestion),b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df:()=>Promise.resolve().then(a.bind(a,87458)).then(e=>e.createOrUpdateResult),"6785dc7ed62977a4bfc22cfeedc567d3de9c6c0b":()=>Promise.resolve().then(a.bind(a,76176)).then(e=>e.updateIdentifyInfo),c6057a1adceb658404a6ade3eecd75691e8fc914:()=>Promise.resolve().then(a.bind(a,76176)).then(e=>e.createIdentifyInfoList),"86302d3347f060b9f30e3f3f852c2f9ce59c3407":()=>Promise.resolve().then(a.bind(a,54793)).then(e=>e.updateMatchingParagraph),"89967293a10776e71758bd6673bc9145d217e69d":()=>Promise.resolve().then(a.bind(a,54793)).then(e=>e.updateMatchingChoiceList),f17d65f8c43eb460fa2cfa26e70f7658fb7bd71d:()=>Promise.resolve().then(a.bind(a,54793)).then(e=>e.createMatching),"1d3fe85ca0cdb37c8635d07197e5c3ec670fdceb":()=>Promise.resolve().then(a.bind(a,47581)).then(e=>e.updateMultiMore),"28f7cee280c6bc4e822c7ea4625120fa53064748":()=>Promise.resolve().then(a.bind(a,47581)).then(e=>e.createMultiMoreList),"456ee2a1690c538bcca175d6e4f9496ac91bd183":()=>Promise.resolve().then(a.bind(a,34892)).then(e=>e.publicAssessment),"5cdf9fc5100262f07752297272faee8055782770":()=>Promise.resolve().then(a.bind(a,34892)).then(e=>e.createAssessment),"827df6d0c9316cf40f1ae02724d60c56d3bb4c93":()=>Promise.resolve().then(a.bind(a,34892)).then(e=>e.getAssessmentIdByPartId),d1041361be3f9a63f1cb8f0c97e40608dbe358d0:()=>Promise.resolve().then(a.bind(a,34892)).then(e=>e.getAssessmentIdByQuestionGroupId),"36644abcfaf2c0bcd1e654d1e7cefc6be26dd9d3":()=>Promise.resolve().then(a.bind(a,64108)).then(e=>e.updatePassage),"712ac66c7aec7c3155ad775639cdacbebf074047":()=>Promise.resolve().then(a.bind(a,64108)).then(e=>e.createPassage),a7eb663f1cc3f9e8d80c55e823203210357fe142:()=>Promise.resolve().then(a.bind(a,64108)).then(e=>e.createPassageSimple),aeea7f3ba66210587e3f012e548a38d44ce94e2b:()=>Promise.resolve().then(a.bind(a,64108)).then(e=>e.createPassageMultiHeading),"20f11d8765c9e25d7bcd2c679949dfa5067d827a":()=>Promise.resolve().then(a.bind(a,24314)).then(e=>e.deleteQuestionGroup),dd7984d76a57c0fc44b5ff68abc6662a6d381f45:()=>Promise.resolve().then(a.bind(a,24314)).then(e=>e.createQuestionGroup),"73499b551777069c61601bfb7422f2e19cc4f012":()=>Promise.resolve().then(a.bind(a,19471)).then(e=>e.updatePart),"6b0b0211edf923668136f949a09bd7013731086d":()=>Promise.resolve().then(a.bind(a,36579)).then(e=>e.loginOAuth),"8d2176ec601c75517303c18fbd87bf736c5d5e9e":()=>Promise.resolve().then(a.bind(a,36579)).then(e=>e.loginCredentials),"8c8316bb03f185e199fe459a641ea701ac47c8e5":()=>Promise.resolve().then(a.bind(a,63407)).then(e=>e.reset)};async function d(e,...t){return(await s[e]()).apply(null,t)}e.exports={"561e1f84b16d26cae646807326c2b228b7ee1897":d.bind(null,"561e1f84b16d26cae646807326c2b228b7ee1897"),"6dd6002a719b6773d36a9abebdc44f2f48317665":d.bind(null,"6dd6002a719b6773d36a9abebdc44f2f48317665"),d73fb79915618bc4d259cb744cc710ab48f2b6e5:d.bind(null,"d73fb79915618bc4d259cb744cc710ab48f2b6e5"),"348f4591ea0e3a316e8f14618a5c97a8c9a991bd":d.bind(null,"348f4591ea0e3a316e8f14618a5c97a8c9a991bd"),"7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33":d.bind(null,"7fd32a7c6f7ef331f4a62953ea7aebb0bde55d33"),"92a39d477e47b317e35e397cb3d435c18e928bc4":d.bind(null,"92a39d477e47b317e35e397cb3d435c18e928bc4"),"9e29895df62c42ba7a36f6845e4eae27911c1b74":d.bind(null,"9e29895df62c42ba7a36f6845e4eae27911c1b74"),ee02d34ff8acfbec65c3cb8d7dd6651b007a0386:d.bind(null,"ee02d34ff8acfbec65c3cb8d7dd6651b007a0386"),"1f308bd869fb5bcb145fc1b44954debb21770560":d.bind(null,"1f308bd869fb5bcb145fc1b44954debb21770560"),"4db26a0ba77ad2ec2566def30570c053733cebd3":d.bind(null,"4db26a0ba77ad2ec2566def30570c053733cebd3"),"7253e3e8d3e871017ea1f263ed398c6f9b834458":d.bind(null,"7253e3e8d3e871017ea1f263ed398c6f9b834458"),b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df:d.bind(null,"b446b52b7bbff32ef9160e7ceb0bd9ff8c7fc2df"),"6785dc7ed62977a4bfc22cfeedc567d3de9c6c0b":d.bind(null,"6785dc7ed62977a4bfc22cfeedc567d3de9c6c0b"),c6057a1adceb658404a6ade3eecd75691e8fc914:d.bind(null,"c6057a1adceb658404a6ade3eecd75691e8fc914"),"86302d3347f060b9f30e3f3f852c2f9ce59c3407":d.bind(null,"86302d3347f060b9f30e3f3f852c2f9ce59c3407"),"89967293a10776e71758bd6673bc9145d217e69d":d.bind(null,"89967293a10776e71758bd6673bc9145d217e69d"),f17d65f8c43eb460fa2cfa26e70f7658fb7bd71d:d.bind(null,"f17d65f8c43eb460fa2cfa26e70f7658fb7bd71d"),"1d3fe85ca0cdb37c8635d07197e5c3ec670fdceb":d.bind(null,"1d3fe85ca0cdb37c8635d07197e5c3ec670fdceb"),"28f7cee280c6bc4e822c7ea4625120fa53064748":d.bind(null,"28f7cee280c6bc4e822c7ea4625120fa53064748"),"456ee2a1690c538bcca175d6e4f9496ac91bd183":d.bind(null,"456ee2a1690c538bcca175d6e4f9496ac91bd183"),"5cdf9fc5100262f07752297272faee8055782770":d.bind(null,"5cdf9fc5100262f07752297272faee8055782770"),"827df6d0c9316cf40f1ae02724d60c56d3bb4c93":d.bind(null,"827df6d0c9316cf40f1ae02724d60c56d3bb4c93"),d1041361be3f9a63f1cb8f0c97e40608dbe358d0:d.bind(null,"d1041361be3f9a63f1cb8f0c97e40608dbe358d0"),"36644abcfaf2c0bcd1e654d1e7cefc6be26dd9d3":d.bind(null,"36644abcfaf2c0bcd1e654d1e7cefc6be26dd9d3"),"712ac66c7aec7c3155ad775639cdacbebf074047":d.bind(null,"712ac66c7aec7c3155ad775639cdacbebf074047"),a7eb663f1cc3f9e8d80c55e823203210357fe142:d.bind(null,"a7eb663f1cc3f9e8d80c55e823203210357fe142"),aeea7f3ba66210587e3f012e548a38d44ce94e2b:d.bind(null,"aeea7f3ba66210587e3f012e548a38d44ce94e2b"),"20f11d8765c9e25d7bcd2c679949dfa5067d827a":d.bind(null,"20f11d8765c9e25d7bcd2c679949dfa5067d827a"),dd7984d76a57c0fc44b5ff68abc6662a6d381f45:d.bind(null,"dd7984d76a57c0fc44b5ff68abc6662a6d381f45"),"73499b551777069c61601bfb7422f2e19cc4f012":d.bind(null,"73499b551777069c61601bfb7422f2e19cc4f012"),"6b0b0211edf923668136f949a09bd7013731086d":d.bind(null,"6b0b0211edf923668136f949a09bd7013731086d"),"8d2176ec601c75517303c18fbd87bf736c5d5e9e":d.bind(null,"8d2176ec601c75517303c18fbd87bf736c5d5e9e"),"8c8316bb03f185e199fe459a641ea701ac47c8e5":d.bind(null,"8c8316bb03f185e199fe459a641ea701ac47c8e5")}},6946:(e,t,a)=>{Promise.resolve().then(a.bind(a,6618))},35303:()=>{},57022:(e,t,a)=>{"use strict";a.d(t,{X:()=>r});var s=a(95344),d=a(4664);let r=({message:e})=>e?(0,s.jsxs)("div",{className:"bg-destructive/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-destructive",children:[s.jsx(d.LPM,{className:"h-4 w-4"}),s.jsx("p",{children:e})]}):null},1250:(e,t,a)=>{"use strict";a.d(t,{M:()=>r});var s=a(95344),d=a(4664);let r=({message:e})=>e?(0,s.jsxs)("div",{className:"bg-emerald-500/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-emerald-500",children:[s.jsx(d.NhS,{className:"h-4 w-4"}),s.jsx("p",{children:e})]}):null},6618:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ResetForm:()=>h});var s=a(95344),d=a(60708),r=a(3729),c=a(85453),n=a(92549),i=a(93061),b=a(3365),o=a(16212);a(13664);var f=(0,a(28371).$)("8c8316bb03f185e199fe459a641ea701ac47c8e5"),l=a(57022),u=a(1250),m=a(47782);let h=()=>{let[e,t]=(0,r.useState)(""),[a,h]=(0,r.useState)(""),[p,x]=(0,r.useTransition)(),P=(0,d.cI)({resolver:(0,c.F)(m.A3),defaultValues:{email:""}});return s.jsx(b.CardWrapper,{headerLabel:"Forgot your password?",backButtonLabel:"Back to login",backButtonHref:"/auth/login",children:s.jsx(i.l0,{...P,children:(0,s.jsxs)("form",{onSubmit:P.handleSubmit(e=>{t(""),h(""),x(()=>{f(e).then(e=>{t(e?.error),h(e?.success)})})}),className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(i.Wi,{control:P.control,name:"email",render:({field:e})=>(0,s.jsxs)(i.xJ,{children:[s.jsx(i.lX,{children:"Email"}),s.jsx(i.NI,{children:s.jsx(n.I,{...e,disabled:p,placeholder:"john.doe@example.com",type:"email"})}),s.jsx(i.zG,{})]})})}),s.jsx(l.X,{message:e}),s.jsx(u.M,{message:a}),s.jsx(o.z,{disabled:p,type:"submit",className:"w-full",children:"Send reset email"})]})})})}},47782:(e,t,a)=>{"use strict";a.d(t,{A3:()=>b,Tu:()=>i,Ty:()=>r,j5:()=>n,pj:()=>c});var s=a(38163),d=a(29709);let r=d.Ry({name:d.jt(d.Z_()),isTwoFactorEnabled:d.jt(d.O7()),role:d.Km([s.UserRole.ADMIN,s.UserRole.USER]),email:d.jt(d.Z_().email()),password:d.jt(d.Z_().min(1)),newPassword:d.jt(d.Z_().min(6))}).refine(e=>!e.password||!!e.newPassword,{message:"New password is required!",path:["newPassword"]}).refine(e=>!e.newPassword||!!e.password,{message:"Password is required!",path:["password"]}),c=d.Ry({email:d.Z_().email({message:"Email is required"}),password:d.Z_().min(1,{message:"Password is required"}),code:d.jt(d.Z_())}),n=d.Ry({password:d.Z_().min(1,{message:"Minimum of 6 characters required"})}),i=d.Ry({email:d.Z_().email({message:"Email is required"}),password:d.Z_().min(1,{message:"Password is required"}),name:d.Z_().min(1,{message:"Name is required"})}),b=d.Ry({email:d.Z_().email({message:"Email is required"})})},63407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{reset:()=>b});var s=a(98601);a(75811);var d=a(10985),r=a(35175),c=a(3289),n=a(27449),i=a(17824);let b=async e=>{let t=d.ResetSchema.safeParse(e);if(!t.success)return{error:"Invalid emaiL!"};let{email:a}=t.data;if(!await (0,r.getUserByEmail)(a))return{error:"Email not found!"};let s=await (0,c.generatePasswordResetToken)(a);return await (0,n.sendPasswordResetEmail)(s.email,s.token),{success:"Reset email sent!"}};(0,i.ensureServerEntryExports)([b]),(0,s.createActionProxy)("8c8316bb03f185e199fe459a641ea701ac47c8e5",b)},3289:(e,t,a)=>{"use strict";a.d(t,{generatePasswordResetToken:()=>r,getPasswordResetTokenByToken:()=>c});var s=a(89756),d=a(3078);let r=async e=>{let t=(0,d.v4)(),a=new Date(new Date().getTime()+36e5),r=await n(e);return r&&await s.db.passwordResetToken.delete({where:{id:r.id}}),await s.db.passwordResetToken.create({data:{email:e,token:t,expires:a}})},c=async e=>{try{return await s.db.passwordResetToken.findUnique({where:{token:e}})}catch{return null}},n=async e=>{try{return await s.db.passwordResetToken.findFirst({where:{email:e}})}catch{return null}}},50984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(25036);let d=({children:e})=>s.jsx("div",{className:"h-screen flex items-center justify-center bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-sky-400 to-blue-800",children:e})},50742:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(25036),d=a(86843);let r=(0,d.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/components/auth/reset-form.tsx`),{__esModule:c,$$typeof:n}=r;r.default;let i=(0,d.createProxy)(String.raw`/home/ubuntu/github_repo/ieltstrek/components/auth/reset-form.tsx#ResetForm`),b=()=>s.jsx(i,{})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,247,876,337,920,625,193,429,229],()=>a(58579));module.exports=s})();